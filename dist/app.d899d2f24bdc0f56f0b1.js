webpackJsonp([0],[function(t,e,n){"use strict";var r=n(1),i=n(3),o=n(23);i.enableProdMode();var a=setTimeout(function(){r.platformBrowserDynamic().bootstrapModule(o.AppModule),clearTimeout(a)},5e3)},,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=n(3),a=n(21),s=n(24),c=n(25),u=n(72),f=n(86),p=n(95),l=n(98),d=n(101),h=n(104),A=n(107),y=n(87),g=n(73),v=n(74),m=n(89),w=n(83),b=n(82),_=n(92),S=n(110),x=n(91);o.enableProdMode();var k=function(){function AppModule(){}return AppModule=r([o.NgModule({imports:[a.BrowserModule,s.HttpModule,c.JsonApiModule],declarations:[u.AppComponent,f.DesktopComponent,l.TaskbarComponent,p.WindowComponent,d.StartmenuComponent,h.DesktopIconItemComponent,A.TaskbarIconItemComponent,S.ProcessComponent,p.SafeHtmlPipe,p.SafeUrlPipe],providers:[y.WmService,g.AppManagerService,v.RegistryService,m.ProcessManagerService,w.DatastoreService,b.SessiongManagerService,_.WarpgateService,x.SessionService],bootstrap:[u.AppComponent]}),i("design:paramtypes",[])],AppModule)}();e.AppModule=k},,function(t,e,n){"use strict";function __export(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}__export(n(26)),__export(n(51)),__export(n(52)),__export(n(53)),__export(n(54)),__export(n(55)),__export(n(57)),__export(n(71))},function(t,e,n){"use strict";function HasMany(t){return void 0===t&&(t={}),function(e,n){var r=Reflect.getMetadata("HasMany",e)||[];r.push({propertyName:n,relationship:t.key||n}),Reflect.defineMetadata("HasMany",r,e)}}n(27),e.HasMany=HasMany},function(t,e,n){(function(t){/*! *****************************************************************************
	Copyright (C) Microsoft. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0
	
	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.
	
	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */
var e;!function(e){"use strict";function decorate(t,e,n,r){if(IsUndefined(r)){if(IsUndefined(n)){if(!IsArray(t))throw new TypeError;if(!IsConstructor(e))throw new TypeError;return DecorateConstructor(t,e)}if(!IsArray(t))throw new TypeError;if(!IsObject(e))throw new TypeError;return n=ToPropertyKey(n),DecoratePropertyWithoutDescriptor(t,e,n)}if(!IsArray(t))throw new TypeError;if(!IsObject(e))throw new TypeError;if(IsUndefined(n))throw new TypeError;if(!IsObject(r))throw new TypeError;return n=ToPropertyKey(n),DecoratePropertyWithDescriptor(t,e,n,r)}function metadata(t,e){function decorator(n,r){if(IsUndefined(r)){if(!IsConstructor(n))throw new TypeError;OrdinaryDefineOwnMetadata(t,e,n,void 0)}else{if(!IsObject(n))throw new TypeError;r=ToPropertyKey(r),OrdinaryDefineOwnMetadata(t,e,n,r)}}return decorator}function defineMetadata(t,e,n,r){if(!IsObject(n))throw new TypeError;return IsUndefined(r)||(r=ToPropertyKey(r)),OrdinaryDefineOwnMetadata(t,e,n,r)}function hasMetadata(t,e,n){if(!IsObject(e))throw new TypeError;return IsUndefined(n)||(n=ToPropertyKey(n)),OrdinaryHasMetadata(t,e,n)}function hasOwnMetadata(t,e,n){if(!IsObject(e))throw new TypeError;return IsUndefined(n)||(n=ToPropertyKey(n)),OrdinaryHasOwnMetadata(t,e,n)}function getMetadata(t,e,n){if(!IsObject(e))throw new TypeError;return IsUndefined(n)||(n=ToPropertyKey(n)),OrdinaryGetMetadata(t,e,n)}function getOwnMetadata(t,e,n){if(!IsObject(e))throw new TypeError;return IsUndefined(n)||(n=ToPropertyKey(n)),OrdinaryGetOwnMetadata(t,e,n)}function getMetadataKeys(t,e){if(!IsObject(t))throw new TypeError;return IsUndefined(e)||(e=ToPropertyKey(e)),OrdinaryMetadataKeys(t,e)}function getOwnMetadataKeys(t,e){if(!IsObject(t))throw new TypeError;return IsUndefined(e)||(e=ToPropertyKey(e)),OrdinaryOwnMetadataKeys(t,e)}function deleteMetadata(t,e,n){if(!IsObject(e))throw new TypeError;IsUndefined(n)||(n=ToPropertyKey(n));var r=GetOrCreateMetadataMap(e,n,!1);if(IsUndefined(r))return!1;if(!r["delete"](t))return!1;if(r.size>0)return!0;var i=s.get(e);return i["delete"](n),i.size>0||(s["delete"](e),!0)}function DecorateConstructor(t,e){for(var n=t.length-1;n>=0;--n){var r=t[n],i=r(e);if(!IsUndefined(i)){if(!IsConstructor(i))throw new TypeError;e=i}}return e}function DecoratePropertyWithDescriptor(t,e,n,r){for(var i=t.length-1;i>=0;--i){var o=t[i],a=o(e,n,r);if(!IsUndefined(a)){if(!IsObject(a))throw new TypeError;r=a}}return r}function DecoratePropertyWithoutDescriptor(t,e,n){for(var r=t.length-1;r>=0;--r){var i=t[r];i(e,n)}}function GetOrCreateMetadataMap(t,e,n){var r=s.get(t);if(!r){if(!n)return;r=new i,s.set(t,r)}var o=r.get(e);if(!o){if(!n)return;o=new i,r.set(e,o)}return o}function OrdinaryHasMetadata(t,e,n){var r=OrdinaryHasOwnMetadata(t,e,n);if(r)return!0;var i=GetPrototypeOf(e);return null!==i&&OrdinaryHasMetadata(t,i,n)}function OrdinaryHasOwnMetadata(t,e,n){var r=GetOrCreateMetadataMap(e,n,!1);return void 0!==r&&Boolean(r.has(t))}function OrdinaryGetMetadata(t,e,n){var r=OrdinaryHasOwnMetadata(t,e,n);if(r)return OrdinaryGetOwnMetadata(t,e,n);var i=GetPrototypeOf(e);return null!==i?OrdinaryGetMetadata(t,i,n):void 0}function OrdinaryGetOwnMetadata(t,e,n){var r=GetOrCreateMetadataMap(e,n,!1);if(void 0!==r)return r.get(t)}function OrdinaryDefineOwnMetadata(t,e,n,r){var i=GetOrCreateMetadataMap(n,r,!0);i.set(t,e)}function OrdinaryMetadataKeys(t,e){var n=OrdinaryOwnMetadataKeys(t,e),r=GetPrototypeOf(t);if(null===r)return n;var i=OrdinaryMetadataKeys(r,e);if(i.length<=0)return n;if(n.length<=0)return i;for(var a=new o,s=[],c=0;c<n.length;c++){var u=n[c],f=a.has(u);f||(a.add(u),s.push(u))}for(var p=0;p<i.length;p++){var u=i[p],f=a.has(u);f||(a.add(u),s.push(u))}return s}function OrdinaryOwnMetadataKeys(t,e){var n=GetOrCreateMetadataMap(t,e,!1),r=[];return n&&n.forEach(function(t,e){return r.push(e)}),r}function IsUndefined(t){return void 0===t}function IsArray(t){return Array.isArray(t)}function IsObject(t){return"object"==typeof t?null!==t:"function"==typeof t}function IsConstructor(t){return"function"==typeof t}function IsSymbol(t){return"symbol"==typeof t}function ToPropertyKey(t){return IsSymbol(t)?t:String(t)}function GetPrototypeOf(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===r)return e;if(e!==r)return e;var n=t.prototype,i=Object.getPrototypeOf(n);if(null==i||i===Object.prototype)return e;var o=i.constructor;return"function"!=typeof o?e:o===t?e:o}function CreateMapPolyfill(){function Map(){this._keys=[],this._values=[],this._cache=t}var t={};return Map.prototype={get size(){return this._keys.length},has:function(t){return t===this._cache||this._find(t)>=0&&(this._cache=t,!0)},get:function(t){var e=this._find(t);if(e>=0)return this._cache=t,this._values[e]},set:function(t,e){return this["delete"](t),this._keys.push(t),this._values.push(e),this._cache=t,this},"delete":function(e){var n=this._find(e);return n>=0&&(this._keys.splice(n,1),this._values.splice(n,1),this._cache=t,!0)},clear:function(){this._keys.length=0,this._values.length=0,this._cache=t},forEach:function(t,e){for(var n=this.size,r=0;r<n;++r){var i=this._keys[r],o=this._values[r];this._cache=i,t.call(this,o,i,this)}},_find:function(t){for(var e=this._keys,n=e.length,r=0;r<n;++r)if(e[r]===t)return r;return-1}},Map}function CreateSetPolyfill(){function Set(){this._map=new i}return Set.prototype={get size(){return this._map.length},has:function(t){return this._map.has(t)},add:function(t){return this._map.set(t,t),this},"delete":function(t){return this._map["delete"](t)},clear:function(){this._map.clear()},forEach:function(t,e){this._map.forEach(t,e)}},Set}function CreateWeakMapPolyfill(){function WeakMap(){this._key=CreateUniqueKey()}function FillRandomBytes(t,e){for(var n=0;n<e;++n)t[n]=255*Math.random()|0}function GenRandomBytes(t){if(i){var e=i.randomBytes(t);return e}if("function"==typeof Uint8Array){var e=new Uint8Array(t);return"undefined"!=typeof crypto?crypto.getRandomValues(e):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(e):FillRandomBytes(e,t),e}var e=new Array(t);return FillRandomBytes(e,t),e}function CreateUUID(){var t=GenRandomBytes(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var i=t[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}function CreateUniqueKey(){var t;do t="@@WeakMap@@"+CreateUUID();while(o.call(a,t));return a[t]=!0,t}function GetOrCreateWeakMapTable(t,e){if(!o.call(t,s)){if(!e)return;Object.defineProperty(t,s,{value:Object.create(null)})}return t[s]}var e=16,r="undefined"!=typeof t&&"[object process]"===Object.prototype.toString.call(t.process),i=r&&n(28),o=Object.prototype.hasOwnProperty,a={},s=CreateUniqueKey();return WeakMap.prototype={has:function(t){var e=GetOrCreateWeakMapTable(t,!1);return!!e&&this._key in e},get:function(t){var e=GetOrCreateWeakMapTable(t,!1);if(e)return e[this._key]},set:function(t,e){var n=GetOrCreateWeakMapTable(t,!0);return n[this._key]=e,this},"delete":function(t){var e=GetOrCreateWeakMapTable(t,!1);return!!(e&&this._key in e)&&delete e[this._key]},clear:function(){this._key=CreateUniqueKey()}},WeakMap}var r=Object.getPrototypeOf(Function),i="function"==typeof Map?Map:CreateMapPolyfill(),o="function"==typeof Set?Set:CreateSetPolyfill(),a="function"==typeof WeakMap?WeakMap:CreateWeakMapPolyfill(),s=new a;e.decorate=decorate,e.metadata=metadata,e.defineMetadata=defineMetadata,e.hasMetadata=hasMetadata,e.hasOwnMetadata=hasOwnMetadata,e.getMetadata=getMetadata,e.getOwnMetadata=getOwnMetadata,e.getMetadataKeys=getMetadataKeys,e.getOwnMetadataKeys=getOwnMetadataKeys,e.deleteMetadata=deleteMetadata,function(t){if("undefined"!=typeof t.Reflect){if(t.Reflect!==e)for(var n in e)t.Reflect[n]=e[n]}else t.Reflect=e}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:"undefined"!=typeof t?t:Function("return this;")())}(e||(e={}))}).call(e,function(){return this}())},function(t,e,n){(function(t){function error(){var t=[].slice.call(arguments).join(" ");throw new Error([t,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function each(t,e){for(var n in t)e(t[n],n)}var r=n(33);e.createHash=n(35),e.createHmac=n(48),e.randomBytes=function(e,n){if(!n||!n.call)return new t(r(e));try{n.call(this,void 0,new t(r(e)))}catch(i){n(i)}},e.getHashes=function(){return["sha1","sha256","sha512","md5","rmd160"]};var i=n(49)(e);e.pbkdf2=i.pbkdf2,e.pbkdf2Sync=i.pbkdf2Sync,each(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman"],function(t){e[t]=function(){error("sorry,",t,"is not implemented yet")}})}).call(e,n(29).Buffer)},function(t,e,n){(function(t,r){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function typedArraySupport(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function kMaxLength(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(e,n){if(kMaxLength()<n)throw new RangeError("Invalid typed array length");return t.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(n),e.__proto__=t.prototype):(null===e&&(e=new t(n)),e.length=n),e}function t(e,n,r){if(!(t.TYPED_ARRAY_SUPPORT||this instanceof t))return new t(e,n,r);if("number"==typeof e){if("string"==typeof n)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,e)}return from(this,e,n,r)}function from(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?fromArrayBuffer(t,e,n,r):"string"==typeof e?fromString(t,e,n):fromObject(t,e)}function assertSize(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function alloc(t,e,n,r){return assertSize(e),e<=0?createBuffer(t,e):void 0!==n?"string"==typeof r?createBuffer(t,e).fill(n,r):createBuffer(t,e).fill(n):createBuffer(t,e)}function allocUnsafe(e,n){if(assertSize(n),e=createBuffer(e,n<0?0:0|checked(n)),!t.TYPED_ARRAY_SUPPORT)for(var r=0;r<n;++r)e[r]=0;return e}function fromString(e,n,r){if("string"==typeof r&&""!==r||(r="utf8"),!t.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var i=0|byteLength(n,r);e=createBuffer(e,i);var o=e.write(n,r);return o!==i&&(e=e.slice(0,o)),e}function fromArrayLike(t,e){var n=e.length<0?0:0|checked(e.length);t=createBuffer(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function fromArrayBuffer(e,n,r,i){if(n.byteLength,r<0||n.byteLength<r)throw new RangeError("'offset' is out of bounds");if(n.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");return n=void 0===r&&void 0===i?new Uint8Array(n):void 0===i?new Uint8Array(n,r):new Uint8Array(n,r,i),t.TYPED_ARRAY_SUPPORT?(e=n,e.__proto__=t.prototype):e=fromArrayLike(e,n),e}function fromObject(e,n){if(t.isBuffer(n)){var r=0|checked(n.length);return e=createBuffer(e,r),0===e.length?e:(n.copy(e,0,0,r),e)}if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||isnan(n.length)?createBuffer(e,0):fromArrayLike(e,n);if("Buffer"===n.type&&a(n.data))return fromArrayLike(e,n.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(t){if(t>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|t}function SlowBuffer(e){return+e!=e&&(e=0),t.alloc(+e)}function byteLength(e,n){if(t.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var i=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(i)return utf8ToBytes(e).length;n=(""+n).toLowerCase(),i=!0}}function slowToString(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return hexSlice(this,e,n);case"utf8":case"utf-8":return utf8Slice(this,e,n);case"ascii":return asciiSlice(this,e,n);case"latin1":case"binary":return latin1Slice(this,e,n);case"base64":return base64Slice(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function swap(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function bidirectionalIndexOf(e,n,r,i,o){if(0===e.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof n&&(n=t.from(n,i)),t.isBuffer(n))return 0===n.length?-1:arrayIndexOf(e,n,r,i,o);if("number"==typeof n)return n=255&n,t.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,n,r):Uint8Array.prototype.lastIndexOf.call(e,n,r):arrayIndexOf(e,[n],r,i,o);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(t,e,n,r,i){function read(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}var o=1,a=t.length,s=e.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o=2,a/=2,s/=2,n/=2}var c;if(i){var u=-1;for(c=n;c<a;c++)if(read(t,c)===read(e,u===-1?0:c-u)){if(u===-1&&(u=c),c-u+1===s)return u*o}else u!==-1&&(c-=c-u),u=-1}else for(n+s>a&&(n=a-s),c=n;c>=0;c--){for(var f=!0,p=0;p<s;p++)if(read(t,c+p)!==read(e,p)){f=!1;break}if(f)return c}return-1}function hexWrite(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function utf8Write(t,e,n,r){return blitBuffer(utf8ToBytes(e,t.length-n),t,n,r)}function asciiWrite(t,e,n,r){return blitBuffer(asciiToBytes(e),t,n,r)}function latin1Write(t,e,n,r){return asciiWrite(t,e,n,r)}function base64Write(t,e,n,r){return blitBuffer(base64ToBytes(e),t,n,r)}function ucs2Write(t,e,n,r){return blitBuffer(utf16leToBytes(e,t.length-n),t,n,r)}function base64Slice(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function utf8Slice(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var c,u,f,p;switch(s){case 1:o<128&&(a=o);break;case 2:c=t[i+1],128===(192&c)&&(p=(31&o)<<6|63&c,p>127&&(a=p));break;case 3:c=t[i+1],u=t[i+2],128===(192&c)&&128===(192&u)&&(p=(15&o)<<12|(63&c)<<6|63&u,p>2047&&(p<55296||p>57343)&&(a=p));break;case 4:c=t[i+1],u=t[i+2],f=t[i+3],128===(192&c)&&128===(192&u)&&128===(192&f)&&(p=(15&o)<<18|(63&c)<<12|(63&u)<<6|63&f,p>65535&&p<1114112&&(a=p))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return decodeCodePointsArray(r)}function decodeCodePointsArray(t){var e=t.length;if(e<=s)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=s));return n}function asciiSlice(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function latin1Slice(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function hexSlice(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=toHex(t[o]);return i}function utf16leSlice(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function checkOffset(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,n,r,i,o,a){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>o||n<a)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function objectWriteUInt16(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function objectWriteUInt32(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function checkIEEE754(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function writeFloat(t,e,n,r,i){return i||checkIEEE754(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),o.write(t,e,n,r,23,4),n+4}function writeDouble(t,e,n,r,i){return i||checkIEEE754(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),o.write(t,e,n,r,52,8),n+8}function base64clean(t){if(t=stringtrim(t).replace(c,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function stringtrim(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function toHex(t){return t<16?"0"+t.toString(16):t.toString(16)}function utf8ToBytes(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],a=0;a<r;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function asciiToBytes(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function utf16leToBytes(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function base64ToBytes(t){return i.toByteArray(base64clean(t))}function blitBuffer(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function isnan(t){return t!==t}var i=n(30),o=n(31),a=n(32);e.Buffer=t,e.SlowBuffer=SlowBuffer,e.INSPECT_MAX_BYTES=50,t.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:typedArraySupport(),e.kMaxLength=kMaxLength(),t.poolSize=8192,t._augment=function(e){return e.__proto__=t.prototype,e},t.from=function(t,e,n){return from(null,t,e,n)},t.TYPED_ARRAY_SUPPORT&&(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0})),t.alloc=function(t,e,n){return alloc(null,t,e,n)},t.allocUnsafe=function(t){return allocUnsafe(null,t)},t.allocUnsafeSlow=function(t){return allocUnsafe(null,t)},t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,n){if(!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var r=e.length,i=n.length,o=0,a=Math.min(r,i);o<a;++o)if(e[o]!==n[o]){r=e[o],i=n[o];break}return r<i?-1:i<r?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var i=t.allocUnsafe(n),o=0;for(r=0;r<e.length;++r){var s=e[r];if(!t.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,o),o+=s.length}return i},t.byteLength=byteLength,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)swap(this,e,e+1);return this},t.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)swap(this,e,e+3),swap(this,e+1,e+2);return this},t.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)swap(this,e,e+7),swap(this,e+1,e+6),swap(this,e+2,e+5),swap(this,e+3,e+4);return this},t.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?utf8Slice(this,0,t):slowToString.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e,n,r,i,o){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),n<0||r>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&n>=r)return 0;if(i>=o)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,i>>>=0,o>>>=0,this===e)return 0;for(var a=o-i,s=r-n,c=Math.min(a,s),u=this.slice(i,o),f=e.slice(n,r),p=0;p<c;++p)if(u[p]!==f[p]){a=u[p],s=f[p];break}return a<s?-1:s<a?1:0},t.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},t.prototype.indexOf=function(t,e,n){return bidirectionalIndexOf(this,t,e,n,!0)},t.prototype.lastIndexOf=function(t,e,n){return bidirectionalIndexOf(this,t,e,n,!1)},t.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e=0|e,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return hexWrite(this,t,e,n);case"utf8":case"utf-8":return utf8Write(this,t,e,n);case"ascii":return asciiWrite(this,t,e,n);case"latin1":case"binary":return latin1Write(this,t,e,n);case"base64":return base64Write(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var s=4096;t.prototype.slice=function(e,n){var r=this.length;e=~~e,n=void 0===n?r:~~n,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<e&&(n=e);var i;if(t.TYPED_ARRAY_SUPPORT)i=this.subarray(e,n),i.__proto__=t.prototype;else{var o=n-e;i=new t(o,(void 0));for(var a=0;a<o;++a)i[a]=this[a+e]}return i},t.prototype.readUIntLE=function(t,e,n){t=0|t,e=0|e,n||checkOffset(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},t.prototype.readUIntBE=function(t,e,n){t=0|t,e=0|e,n||checkOffset(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},t.prototype.readUInt8=function(t,e){return e||checkOffset(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||checkOffset(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||checkOffset(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||checkOffset(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||checkOffset(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,n){t=0|t,e=0|e,n||checkOffset(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},t.prototype.readIntBE=function(t,e,n){t=0|t,e=0|e,n||checkOffset(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},t.prototype.readInt8=function(t,e){return e||checkOffset(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},t.prototype.readInt16LE=function(t,e){e||checkOffset(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(t,e){e||checkOffset(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(t,e){return e||checkOffset(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||checkOffset(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||checkOffset(t,4,this.length),o.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||checkOffset(t,4,this.length),o.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||checkOffset(t,8,this.length),o.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||checkOffset(t,8,this.length),o.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e=0|e,n=0|n,!r){var i=Math.pow(2,8*n)-1;checkInt(this,t,e,n,i,0)}var o=1,a=0;for(this[e]=255&t;++a<n&&(o*=256);)this[e+a]=t/o&255;return e+n},t.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e=0|e,n=0|n,!r){var i=Math.pow(2,8*n)-1;checkInt(this,t,e,n,i,0)}var o=n-1,a=1;for(this[e+o]=255&t;--o>=0&&(a*=256);)this[e+o]=t/a&255;return e+n},t.prototype.writeUInt8=function(e,n,r){return e=+e,n=0|n,r||checkInt(this,e,n,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=255&e,n+1},t.prototype.writeUInt16LE=function(e,n,r){return e=+e,n=0|n,r||checkInt(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):objectWriteUInt16(this,e,n,!0),n+2},t.prototype.writeUInt16BE=function(e,n,r){return e=+e,n=0|n,r||checkInt(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):objectWriteUInt16(this,e,n,!1),n+2},t.prototype.writeUInt32LE=function(e,n,r){return e=+e,n=0|n,r||checkInt(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e):objectWriteUInt32(this,e,n,!0),n+4},t.prototype.writeUInt32BE=function(e,n,r){return e=+e,n=0|n,r||checkInt(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):objectWriteUInt32(this,e,n,!1),n+4},t.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e=0|e,!r){var i=Math.pow(2,8*n-1);checkInt(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},t.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e=0|e,!r){var i=Math.pow(2,8*n-1);checkInt(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},t.prototype.writeInt8=function(e,n,r){return e=+e,n=0|n,r||checkInt(this,e,n,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[n]=255&e,n+1},t.prototype.writeInt16LE=function(e,n,r){return e=+e,n=0|n,r||checkInt(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):objectWriteUInt16(this,e,n,!0),n+2},t.prototype.writeInt16BE=function(e,n,r){return e=+e,n=0|n,r||checkInt(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):objectWriteUInt16(this,e,n,!1),n+2},t.prototype.writeInt32LE=function(e,n,r){return e=+e,n=0|n,r||checkInt(this,e,n,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):objectWriteUInt32(this,e,n,!0),n+4},t.prototype.writeInt32BE=function(e,n,r){return e=+e,n=0|n,r||checkInt(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):objectWriteUInt32(this,e,n,!1),n+4},t.prototype.writeFloatLE=function(t,e,n){return writeFloat(this,t,e,!0,n)},t.prototype.writeFloatBE=function(t,e,n){return writeFloat(this,t,e,!1,n)},t.prototype.writeDoubleLE=function(t,e,n){return writeDouble(this,t,e,!0,n)},t.prototype.writeDoubleBE=function(t,e,n){return writeDouble(this,t,e,!1,n)},t.prototype.copy=function(e,n,r,i){if(r||(r=0),i||0===i||(i=this.length),n>=e.length&&(n=e.length),n||(n=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);var o,a=i-r;if(this===e&&r<n&&n<i)for(o=a-1;o>=0;--o)e[o+n]=this[o+r];else if(a<1e3||!t.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)e[o+n]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),n);return a},t.prototype.fill=function(e,n,r,i){if("string"==typeof e){if("string"==typeof n?(i=n,n=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!t.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e=255&e);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var a;if("number"==typeof e)for(a=n;a<r;++a)this[a]=e;else{var s=t.isBuffer(e)?e:utf8ToBytes(new t(e,i).toString()),c=s.length;for(a=0;a<r-n;++a)this[a+n]=s[a%c]}return this};var c=/[^+\/0-9A-Za-z-_]/g}).call(e,n(29).Buffer,function(){return this}())},function(t,e){"use strict";function placeHoldersCount(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function byteLength(t){return 3*t.length/4-placeHoldersCount(t)}function toByteArray(t){var e,n,o,a,s,c,u=t.length;s=placeHoldersCount(t),c=new i(3*u/4-s),o=s>0?u-4:u;var f=0;for(e=0,n=0;e<o;e+=4,n+=3)a=r[t.charCodeAt(e)]<<18|r[t.charCodeAt(e+1)]<<12|r[t.charCodeAt(e+2)]<<6|r[t.charCodeAt(e+3)],c[f++]=a>>16&255,c[f++]=a>>8&255,c[f++]=255&a;return 2===s?(a=r[t.charCodeAt(e)]<<2|r[t.charCodeAt(e+1)]>>4,c[f++]=255&a):1===s&&(a=r[t.charCodeAt(e)]<<10|r[t.charCodeAt(e+1)]<<4|r[t.charCodeAt(e+2)]>>2,c[f++]=a>>8&255,c[f++]=255&a),c}function tripletToBase64(t){return n[t>>18&63]+n[t>>12&63]+n[t>>6&63]+n[63&t]}function encodeChunk(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16)+(t[o+1]<<8)+t[o+2],i.push(tripletToBase64(r));return i.join("")}function fromByteArray(t){for(var e,r=t.length,i=r%3,o="",a=[],s=16383,c=0,u=r-i;c<u;c+=s)a.push(encodeChunk(t,c,c+s>u?u:c+s));return 1===i?(e=t[r-1],o+=n[e>>2],o+=n[e<<4&63],o+="=="):2===i&&(e=(t[r-2]<<8)+t[r-1],o+=n[e>>10],o+=n[e>>4&63],o+=n[e<<2&63],o+="="),a.push(o),a.join("")}e.byteLength=byteLength,e.toByteArray=toByteArray,e.fromByteArray=fromByteArray;for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,u=c>>1,f=-7,p=n?i-1:0,l=n?-1:1,d=t[e+p];for(p+=l,o=d&(1<<-f)-1,d>>=-f,f+=s;f>0;o=256*o+t[e+p],p+=l,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=r;f>0;a=256*a+t[e+p],p+=l,f-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:(d?-1:1)*(1/0);a+=Math.pow(2,r),o-=u}return(d?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,c,u=8*o-i-1,f=(1<<u)-1,p=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,h=r?1:-1,A=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),e+=a+p>=1?l/c:l*Math.pow(2,1-p),e*c>=2&&(a++,c/=2),a+p>=f?(s=0,a=f):a+p>=1?(s=(e*c-1)*Math.pow(2,i),a+=p):(s=e*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&s,d+=h,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;t[n+d]=255&a,d+=h,a/=256,u-=8);t[n+d-h]|=128*A}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(function(e,r){!function(){var i=("undefined"==typeof window?e:window)||{};_crypto=i.crypto||i.msCrypto||n(34),t.exports=function(t){if(_crypto.getRandomValues){var e=new r(t);return _crypto.getRandomValues(e),e}if(_crypto.randomBytes)return _crypto.randomBytes(t);throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}}()}).call(e,function(){return this}(),n(29).Buffer)},function(t,e){},function(t,e,n){(function(e){function toConstructor(t){return function(){var n=[],r={update:function(t,r){return e.isBuffer(t)||(t=new e(t,r)),n.push(t),this},digest:function(r){var i=e.concat(n),o=t(i);return n=null,r?o.toString(r):o}};return r}}var r=n(36),i=toConstructor(n(45)),o=toConstructor(n(47));t.exports=function(t){return"md5"===t?new i:"rmd160"===t?new o:r(t)}}).call(e,n(29).Buffer)},function(t,e,n){var e=t.exports=function(t){var n=e[t];if(!n)throw new Error(t+" is not supported (we accept pull requests)");return new n},r=n(29).Buffer,i=n(37)(r);e.sha1=n(38)(r,i),e.sha256=n(43)(r,i),e.sha512=n(44)(r,i)},function(t,e){t.exports=function(t){function Hash(e,n){this._block=new t(e),this._finalSize=n,this._blockSize=e,this._len=0,this._s=0}return Hash.prototype.init=function(){this._s=0,this._len=0},Hash.prototype.update=function(e,n){"string"==typeof e&&(n=n||"utf8",e=new t(e,n));for(var r=this._len+=e.length,i=this._s=this._s||0,o=0,a=this._block;i<r;){for(var s=Math.min(e.length,o+this._blockSize-i%this._blockSize),c=s-o,u=0;u<c;u++)a[i%this._blockSize+u]=e[u+o];i+=c,o+=c,i%this._blockSize===0&&this._update(a)}return this._s=i,this},Hash.prototype.digest=function(t){var e=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),e%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(e,this._blockSize-4);var n=this._update(this._block)||this._hash();return t?n.toString(t):n},Hash.prototype._update=function(){throw new Error("_update must be implemented by subclass")},Hash}},function(t,e,n){var r=n(39).inherits;t.exports=function(t,e){function Sha1(){return u.length?u.pop().init():this instanceof Sha1?(this._w=c,e.call(this,64,56),this._h=null,void this.init()):new Sha1}function sha1_ft(t,e,n,r){return t<20?e&n|~e&r:t<40?e^n^r:t<60?e&n|e&r|n&r:e^n^r}function sha1_kt(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514}function add(t,e){return t+e|0}function rol(t,e){return t<<e|t>>>32-e}var n=0,i=4,o=8,a=12,s=16,c=new("undefined"==typeof Int32Array?Array:Int32Array)(80),u=[];return r(Sha1,e),Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,e.prototype.init.call(this),this},Sha1.prototype._POOL=u,Sha1.prototype._update=function(t){var e,n,r,i,o,a,s,c,u,f;e=a=this._a,n=s=this._b,r=c=this._c,i=u=this._d,o=f=this._e;for(var p=this._w,l=0;l<80;l++){var d=p[l]=l<16?t.readInt32BE(4*l):rol(p[l-3]^p[l-8]^p[l-14]^p[l-16],1),h=add(add(rol(e,5),sha1_ft(l,n,r,i)),add(add(o,d),sha1_kt(l)));o=i,i=r,r=rol(n,30),n=e,e=h}this._a=add(e,a),this._b=add(n,s),this._c=add(r,c),this._d=add(i,u),this._e=add(o,f)},Sha1.prototype._hash=function(){u.length<100&&u.push(this);var e=new t(20);return e.writeInt32BE(0|this._a,n),e.writeInt32BE(0|this._b,i),e.writeInt32BE(0|this._c,o),e.writeInt32BE(0|this._d,a),e.writeInt32BE(0|this._e,s),e},Sha1}},function(t,e,n){(function(t,r){function inspect(t,n){var r={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),isBoolean(n)?r.showHidden=n:n&&e._extend(r,n),isUndefined(r.showHidden)&&(r.showHidden=!1),isUndefined(r.depth)&&(r.depth=2),isUndefined(r.colors)&&(r.colors=!1),isUndefined(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=stylizeWithColor),formatValue(r,t,r.depth)}function stylizeWithColor(t,e){var n=inspect.styles[e];return n?"["+inspect.colors[n][0]+"m"+t+"["+inspect.colors[n][1]+"m":t}function stylizeNoColor(t,e){return t}function arrayToHash(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function formatValue(t,n,r){if(t.customInspect&&n&&isFunction(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return isString(i)||(i=formatValue(t,i,r)),i}var o=formatPrimitive(t,n);if(o)return o;var a=Object.keys(n),s=arrayToHash(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),isError(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return formatError(n);if(0===a.length){if(isFunction(n)){var c=n.name?": "+n.name:"";return t.stylize("[Function"+c+"]","special")}if(isRegExp(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(isDate(n))return t.stylize(Date.prototype.toString.call(n),"date");if(isError(n))return formatError(n)}var u="",f=!1,p=["{","}"];if(isArray(n)&&(f=!0,p=["[","]"]),isFunction(n)){var l=n.name?": "+n.name:"";u=" [Function"+l+"]"}if(isRegExp(n)&&(u=" "+RegExp.prototype.toString.call(n)),isDate(n)&&(u=" "+Date.prototype.toUTCString.call(n)),isError(n)&&(u=" "+formatError(n)),0===a.length&&(!f||0==n.length))return p[0]+u+p[1];if(r<0)return isRegExp(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var d;return d=f?formatArray(t,n,r,s,a):a.map(function(e){return formatProperty(t,n,r,s,e,f)}),t.seen.pop(),reduceToSingleString(d,u,p)}function formatPrimitive(t,e){if(isUndefined(e))return t.stylize("undefined","undefined");if(isString(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return isNumber(e)?t.stylize(""+e,"number"):isBoolean(e)?t.stylize(""+e,"boolean"):isNull(e)?t.stylize("null","null"):void 0}function formatError(t){return"["+Error.prototype.toString.call(t)+"]"}function formatArray(t,e,n,r,i){for(var o=[],a=0,s=e.length;a<s;++a)hasOwnProperty(e,String(a))?o.push(formatProperty(t,e,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(formatProperty(t,e,n,r,i,!0))}),o}function formatProperty(t,e,n,r,i,o){var a,s,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),hasOwnProperty(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(c.value)<0?(s=isNull(n)?formatValue(t,c.value,null):formatValue(t,c.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),isUndefined(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function reduceToSingleString(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function isArray(t){return Array.isArray(t)}function isBoolean(t){return"boolean"==typeof t}function isNull(t){return null===t}function isNullOrUndefined(t){return null==t}function isNumber(t){return"number"==typeof t}function isString(t){return"string"==typeof t}function isSymbol(t){return"symbol"==typeof t}function isUndefined(t){return void 0===t}function isRegExp(t){return isObject(t)&&"[object RegExp]"===objectToString(t)}function isObject(t){return"object"==typeof t&&null!==t}function isDate(t){return isObject(t)&&"[object Date]"===objectToString(t)}function isError(t){return isObject(t)&&("[object Error]"===objectToString(t)||t instanceof Error)}function isFunction(t){return"function"==typeof t;
}function isPrimitive(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function objectToString(t){return Object.prototype.toString.call(t)}function pad(t){return t<10?"0"+t.toString(10):t.toString(10)}function timestamp(){var t=new Date,e=[pad(t.getHours()),pad(t.getMinutes()),pad(t.getSeconds())].join(":");return[t.getDate(),s[t.getMonth()],e].join(" ")}function hasOwnProperty(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var i=/%[sdj%]/g;e.format=function(t){if(!isString(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(inspect(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(t).replace(i,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}}),s=r[n];n<o;s=r[++n])a+=isNull(s)||!isObject(s)?" "+s:" "+inspect(s);return a},e.deprecate=function(n,i){function deprecated(){if(!o){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),o=!0}return n.apply(this,arguments)}if(isUndefined(t.process))return function(){return e.deprecate(n,i).apply(this,arguments)};if(r.noDeprecation===!0)return n;var o=!1;return deprecated};var o,a={};e.debuglog=function(t){if(isUndefined(o)&&(o={ENV:"production"}.NODE_DEBUG||""),t=t.toUpperCase(),!a[t])if(new RegExp("\\b"+t+"\\b","i").test(o)){var n=r.pid;a[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else a[t]=function(){};return a[t]},e.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=isArray,e.isBoolean=isBoolean,e.isNull=isNull,e.isNullOrUndefined=isNullOrUndefined,e.isNumber=isNumber,e.isString=isString,e.isSymbol=isSymbol,e.isUndefined=isUndefined,e.isRegExp=isRegExp,e.isObject=isObject,e.isDate=isDate,e.isError=isError,e.isFunction=isFunction,e.isPrimitive=isPrimitive,e.isBuffer=n(41);var s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",timestamp(),e.format.apply(e,arguments))},e.inherits=n(42),e._extend=function(t,e){if(!e||!isObject(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,function(){return this}(),n(40))},,function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){var r=n(39).inherits;t.exports=function(t,e){function Sha256(){this.init(),this._w=i,e.call(this,64,56)}function S(t,e){return t>>>e|t<<32-e}function R(t,e){return t>>>e}function Ch(t,e,n){return t&e^~t&n}function Maj(t,e,n){return t&e^t&n^e&n}function Sigma0256(t){return S(t,2)^S(t,13)^S(t,22)}function Sigma1256(t){return S(t,6)^S(t,11)^S(t,25)}function Gamma0256(t){return S(t,7)^S(t,18)^R(t,3)}function Gamma1256(t){return S(t,17)^S(t,19)^R(t,10)}var n=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],i=new Array(64);return r(Sha256,e),Sha256.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._len=this._s=0,this},Sha256.prototype._update=function(t){var e,r,i,o,a,s,c,u,f,p,l=this._w;e=0|this._a,r=0|this._b,i=0|this._c,o=0|this._d,a=0|this._e,s=0|this._f,c=0|this._g,u=0|this._h;for(var d=0;d<64;d++){var h=l[d]=d<16?t.readInt32BE(4*d):Gamma1256(l[d-2])+l[d-7]+Gamma0256(l[d-15])+l[d-16];f=u+Sigma1256(a)+Ch(a,s,c)+n[d]+h,p=Sigma0256(e)+Maj(e,r,i),u=c,c=s,s=a,a=o+f,o=i,i=r,r=e,e=f+p}this._a=e+this._a|0,this._b=r+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=a+this._e|0,this._f=s+this._f|0,this._g=c+this._g|0,this._h=u+this._h|0},Sha256.prototype._hash=function(){var e=new t(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},Sha256}},function(t,e,n){var r=n(39).inherits;t.exports=function(t,e){function Sha512(){this.init(),this._w=i,e.call(this,128,112)}function S(t,e,n){return t>>>n|e<<32-n}function Ch(t,e,n){return t&e^~t&n}function Maj(t,e,n){return t&e^t&n^e&n}var n=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],i=new Array(160);return r(Sha512,e),Sha512.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._al=-205731576,this._bl=-2067093701,this._cl=-23791573,this._dl=1595750129,this._el=-1377402159,this._fl=725511199,this._gl=-79577749,this._hl=327033209,this._len=this._s=0,this},Sha512.prototype._update=function(t){var e,r,i,o,a,s,c,u,f,p,l,d,h,A,y,g,v=this._w;e=0|this._a,r=0|this._b,i=0|this._c,o=0|this._d,a=0|this._e,s=0|this._f,c=0|this._g,u=0|this._h,f=0|this._al,p=0|this._bl,l=0|this._cl,d=0|this._dl,h=0|this._el,A=0|this._fl,y=0|this._gl,g=0|this._hl;for(var m=0;m<80;m++){var w,b,_=2*m;if(m<16)w=v[_]=t.readInt32BE(4*_),b=v[_+1]=t.readInt32BE(4*_+4);else{var x=v[_-30],k=v[_-30+1],O=S(x,k,1)^S(x,k,8)^x>>>7,R=S(k,x,1)^S(k,x,8)^S(k,x,7);x=v[_-4],k=v[_-4+1];var M=S(x,k,19)^S(k,x,29)^x>>>6,P=S(k,x,19)^S(x,k,29)^S(k,x,6),I=v[_-14],E=v[_-14+1],C=v[_-32],j=v[_-32+1];b=R+E,w=O+I+(b>>>0<R>>>0?1:0),b+=P,w=w+M+(b>>>0<P>>>0?1:0),b+=j,w=w+C+(b>>>0<j>>>0?1:0),v[_]=w,v[_+1]=b}var D=Maj(e,r,i),B=Maj(f,p,l),T=S(e,f,28)^S(f,e,2)^S(f,e,7),U=S(f,e,28)^S(e,f,2)^S(e,f,7),z=S(a,h,14)^S(a,h,18)^S(h,a,9),W=S(h,a,14)^S(h,a,18)^S(a,h,9),N=n[_],J=n[_+1],F=Ch(a,s,c),H=Ch(h,A,y),L=g+W,Y=u+z+(L>>>0<g>>>0?1:0);L+=H,Y=Y+F+(L>>>0<H>>>0?1:0),L+=J,Y=Y+N+(L>>>0<J>>>0?1:0),L+=b,Y=Y+w+(L>>>0<b>>>0?1:0);var K=U+B,V=T+D+(K>>>0<U>>>0?1:0);u=c,g=y,c=s,y=A,s=a,A=h,h=d+L|0,a=o+Y+(h>>>0<d>>>0?1:0)|0,o=i,d=l,i=r,l=p,r=e,p=f,f=L+K|0,e=Y+V+(f>>>0<L>>>0?1:0)|0}this._al=this._al+f|0,this._bl=this._bl+p|0,this._cl=this._cl+l|0,this._dl=this._dl+d|0,this._el=this._el+h|0,this._fl=this._fl+A|0,this._gl=this._gl+y|0,this._hl=this._hl+g|0,this._a=this._a+e+(this._al>>>0<f>>>0?1:0)|0,this._b=this._b+r+(this._bl>>>0<p>>>0?1:0)|0,this._c=this._c+i+(this._cl>>>0<l>>>0?1:0)|0,this._d=this._d+o+(this._dl>>>0<d>>>0?1:0)|0,this._e=this._e+a+(this._el>>>0<h>>>0?1:0)|0,this._f=this._f+s+(this._fl>>>0<A>>>0?1:0)|0,this._g=this._g+c+(this._gl>>>0<y>>>0?1:0)|0,this._h=this._h+u+(this._hl>>>0<g>>>0?1:0)|0},Sha512.prototype._hash=function(){function writeInt64BE(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}var e=new t(64);return writeInt64BE(this._a,this._al,0),writeInt64BE(this._b,this._bl,8),writeInt64BE(this._c,this._cl,16),writeInt64BE(this._d,this._dl,24),writeInt64BE(this._e,this._el,32),writeInt64BE(this._f,this._fl,40),writeInt64BE(this._g,this._gl,48),writeInt64BE(this._h,this._hl,56),e},Sha512}},function(t,e,n){function core_md5(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,a=0;a<t.length;a+=16){var s=n,c=r,u=i,f=o;n=md5_ff(n,r,i,o,t[a+0],7,-680876936),o=md5_ff(o,n,r,i,t[a+1],12,-389564586),i=md5_ff(i,o,n,r,t[a+2],17,606105819),r=md5_ff(r,i,o,n,t[a+3],22,-1044525330),n=md5_ff(n,r,i,o,t[a+4],7,-176418897),o=md5_ff(o,n,r,i,t[a+5],12,1200080426),i=md5_ff(i,o,n,r,t[a+6],17,-1473231341),r=md5_ff(r,i,o,n,t[a+7],22,-45705983),n=md5_ff(n,r,i,o,t[a+8],7,1770035416),o=md5_ff(o,n,r,i,t[a+9],12,-1958414417),i=md5_ff(i,o,n,r,t[a+10],17,-42063),r=md5_ff(r,i,o,n,t[a+11],22,-1990404162),n=md5_ff(n,r,i,o,t[a+12],7,1804603682),o=md5_ff(o,n,r,i,t[a+13],12,-40341101),i=md5_ff(i,o,n,r,t[a+14],17,-1502002290),r=md5_ff(r,i,o,n,t[a+15],22,1236535329),n=md5_gg(n,r,i,o,t[a+1],5,-165796510),o=md5_gg(o,n,r,i,t[a+6],9,-1069501632),i=md5_gg(i,o,n,r,t[a+11],14,643717713),r=md5_gg(r,i,o,n,t[a+0],20,-373897302),n=md5_gg(n,r,i,o,t[a+5],5,-701558691),o=md5_gg(o,n,r,i,t[a+10],9,38016083),i=md5_gg(i,o,n,r,t[a+15],14,-660478335),r=md5_gg(r,i,o,n,t[a+4],20,-405537848),n=md5_gg(n,r,i,o,t[a+9],5,568446438),o=md5_gg(o,n,r,i,t[a+14],9,-1019803690),i=md5_gg(i,o,n,r,t[a+3],14,-187363961),r=md5_gg(r,i,o,n,t[a+8],20,1163531501),n=md5_gg(n,r,i,o,t[a+13],5,-1444681467),o=md5_gg(o,n,r,i,t[a+2],9,-51403784),i=md5_gg(i,o,n,r,t[a+7],14,1735328473),r=md5_gg(r,i,o,n,t[a+12],20,-1926607734),n=md5_hh(n,r,i,o,t[a+5],4,-378558),o=md5_hh(o,n,r,i,t[a+8],11,-2022574463),i=md5_hh(i,o,n,r,t[a+11],16,1839030562),r=md5_hh(r,i,o,n,t[a+14],23,-35309556),n=md5_hh(n,r,i,o,t[a+1],4,-1530992060),o=md5_hh(o,n,r,i,t[a+4],11,1272893353),i=md5_hh(i,o,n,r,t[a+7],16,-155497632),r=md5_hh(r,i,o,n,t[a+10],23,-1094730640),n=md5_hh(n,r,i,o,t[a+13],4,681279174),o=md5_hh(o,n,r,i,t[a+0],11,-358537222),i=md5_hh(i,o,n,r,t[a+3],16,-722521979),r=md5_hh(r,i,o,n,t[a+6],23,76029189),n=md5_hh(n,r,i,o,t[a+9],4,-640364487),o=md5_hh(o,n,r,i,t[a+12],11,-421815835),i=md5_hh(i,o,n,r,t[a+15],16,530742520),r=md5_hh(r,i,o,n,t[a+2],23,-995338651),n=md5_ii(n,r,i,o,t[a+0],6,-198630844),o=md5_ii(o,n,r,i,t[a+7],10,1126891415),i=md5_ii(i,o,n,r,t[a+14],15,-1416354905),r=md5_ii(r,i,o,n,t[a+5],21,-57434055),n=md5_ii(n,r,i,o,t[a+12],6,1700485571),o=md5_ii(o,n,r,i,t[a+3],10,-1894986606),i=md5_ii(i,o,n,r,t[a+10],15,-1051523),r=md5_ii(r,i,o,n,t[a+1],21,-2054922799),n=md5_ii(n,r,i,o,t[a+8],6,1873313359),o=md5_ii(o,n,r,i,t[a+15],10,-30611744),i=md5_ii(i,o,n,r,t[a+6],15,-1560198380),r=md5_ii(r,i,o,n,t[a+13],21,1309151649),n=md5_ii(n,r,i,o,t[a+4],6,-145523070),o=md5_ii(o,n,r,i,t[a+11],10,-1120210379),i=md5_ii(i,o,n,r,t[a+2],15,718787259),r=md5_ii(r,i,o,n,t[a+9],21,-343485551),n=safe_add(n,s),r=safe_add(r,c),i=safe_add(i,u),o=safe_add(o,f)}return Array(n,r,i,o)}function md5_cmn(t,e,n,r,i,o){return safe_add(bit_rol(safe_add(safe_add(e,t),safe_add(r,o)),i),n)}function md5_ff(t,e,n,r,i,o,a){return md5_cmn(e&n|~e&r,t,e,i,o,a)}function md5_gg(t,e,n,r,i,o,a){return md5_cmn(e&r|n&~r,t,e,i,o,a)}function md5_hh(t,e,n,r,i,o,a){return md5_cmn(e^n^r,t,e,i,o,a)}function md5_ii(t,e,n,r,i,o,a){return md5_cmn(n^(e|~r),t,e,i,o,a)}function safe_add(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n}function bit_rol(t,e){return t<<e|t>>>32-e}var r=n(46);t.exports=function(t){return r.hash(t,core_md5,16)}},function(t,e,n){(function(e){function toArray(t,i){if(t.length%n!==0){var o=t.length+(n-t.length%n);t=e.concat([t,r],o)}for(var a=[],s=i?t.readInt32BE:t.readInt32LE,c=0;c<t.length;c+=n)a.push(s.call(t,c));return a}function toBuffer(t,n,r){for(var i=new e(n),o=r?i.writeInt32BE:i.writeInt32LE,a=0;a<t.length;a++)o.call(i,t[a],4*a,!0);return i}function hash(t,n,r,o){e.isBuffer(t)||(t=new e(t));var a=n(toArray(t,o),t.length*i);return toBuffer(a,r,o)}var n=4,r=new e(n);r.fill(0);var i=8;t.exports={hash:hash}}).call(e,n(29).Buffer)},function(t,e,n){(function(e){function f1(t,e,n){return t^e^n}function f2(t,e,n){return t&e|~t&n}function f3(t,e,n){return(t|~e)^n}function f4(t,e,n){return t&n|e&~n}function f5(t,e,n){return t^(e|~n)}function rotl(t,e){return t<<e|t>>>32-e}function ripemd160(t){var n=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof t&&(t=new e(t,"utf8"));var r=c(t),i=8*t.length,o=8*t.length;r[i>>>5]|=128<<24-i%32,r[(i+64>>>9<<4)+14]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);for(var a=0;a<r.length;a+=16)f(n,r,a);for(var a=0;a<5;a++){var s=n[a];n[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var p=u(n);return new e(p)}t.exports=ripemd160;/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.
	
	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
	
	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
	
	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
var n=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],r=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],i=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],o=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],a=[0,1518500249,1859775393,2400959708,2840853838],s=[1352829926,1548603684,1836072691,2053994217,0],c=function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},u=function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},f=function(t,e,c){for(var u=0;u<16;u++){var f=c+u,p=e[f];e[f]=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8)}var l,d,h,A,y,g,v,m,w,b;g=l=t[0],v=d=t[1],m=h=t[2],w=A=t[3],b=y=t[4];for(var _,u=0;u<80;u+=1)_=l+e[c+n[u]]|0,_+=u<16?f1(d,h,A)+a[0]:u<32?f2(d,h,A)+a[1]:u<48?f3(d,h,A)+a[2]:u<64?f4(d,h,A)+a[3]:f5(d,h,A)+a[4],_=0|_,_=rotl(_,i[u]),_=_+y|0,l=y,y=A,A=rotl(h,10),h=d,d=_,_=g+e[c+r[u]]|0,_+=u<16?f5(v,m,w)+s[0]:u<32?f4(v,m,w)+s[1]:u<48?f3(v,m,w)+s[2]:u<64?f2(v,m,w)+s[3]:f1(v,m,w)+s[4],_=0|_,_=rotl(_,o[u]),_=_+b|0,g=b,b=w,w=rotl(m,10),m=v,v=_;_=t[1]+h+w|0,t[1]=t[2]+A+b|0,t[2]=t[3]+y+g|0,t[3]=t[4]+l+v|0,t[4]=t[0]+d+m|0,t[0]=_}}).call(e,n(29).Buffer)},function(t,e,n){(function(e){function Hmac(t,n){if(!(this instanceof Hmac))return new Hmac(t,n);this._opad=s,this._alg=t;var o="sha512"===t?128:64;n=this._key=e.isBuffer(n)?n:new e(n),n.length>o?n=r(t).update(n).digest():n.length<o&&(n=e.concat([n,i],o));for(var a=this._ipad=new e(o),s=this._opad=new e(o),c=0;c<o;c++)a[c]=54^n[c],s[c]=92^n[c];this._hash=r(t).update(a)}var r=n(35),i=new e(128);i.fill(0),t.exports=Hmac,Hmac.prototype.update=function(t,e){return this._hash.update(t,e),this},Hmac.prototype.digest=function(t){var e=this._hash.digest();return r(this._alg).update(this._opad).update(e).digest(t)}}).call(e,n(29).Buffer)},function(t,e,n){var r=n(50);t.exports=function(t,e){e=e||{};var n=r(t);return e.pbkdf2=n.pbkdf2,e.pbkdf2Sync=n.pbkdf2Sync,e}},function(t,e,n){(function(e){t.exports=function(t){function pbkdf2(t,e,n,r,i,o){if("function"==typeof i&&(o=i,i=void 0),"function"!=typeof o)throw new Error("No callback provided to pbkdf2");setTimeout(function(){var a;try{a=pbkdf2Sync(t,e,n,r,i)}catch(s){return o(s)}o(void 0,a)})}function pbkdf2Sync(n,r,i,o,a){if("number"!=typeof i)throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if("number"!=typeof o)throw new TypeError("Key length not a number");if(o<0)throw new TypeError("Bad key length");a=a||"sha1",e.isBuffer(n)||(n=new e(n)),e.isBuffer(r)||(r=new e(r));var s,c,u,f=1,p=new e(o),l=new e(r.length+4);r.copy(l,0,0,r.length);for(var d=1;d<=f;d++){l.writeUInt32BE(d,r.length);var h=t.createHmac(a,n).update(l).digest();if(!s&&(s=h.length,u=new e(s),f=Math.ceil(o/s),c=o-(f-1)*s,o>(Math.pow(2,32)-1)*s))throw new TypeError("keylen exceeds maximum length");h.copy(u,0,0,s);for(var A=1;A<i;A++){h=t.createHmac(a,n).update(h).digest();for(var y=0;y<s;y++)u[y]^=h[y]}var g=(d-1)*s,v=d==f?c:s;u.copy(p,g,0,v)}return p}return{pbkdf2:pbkdf2,pbkdf2Sync:pbkdf2Sync}}}).call(e,n(29).Buffer)},function(t,e,n){"use strict";function BelongsTo(t){return void 0===t&&(t={}),function(e,n){var r=Reflect.getMetadata("BelongsTo",e)||[];r.push({propertyName:n,relationship:t.key||n}),Reflect.defineMetadata("BelongsTo",r,e)}}n(27),e.BelongsTo=BelongsTo},function(t,e,n){"use strict";function Attribute(t){return void 0===t&&(t={}),function(t,e){var n=function(n,r,i,o){var a=Reflect.getMetadata("Attribute",t)||{};n=!("undefined"==typeof r&&!o)&&n,a[e]={hasDirtyAttributes:n,oldValue:r,newValue:i},Reflect.defineMetadata("Attribute",a,t)},r=function(){return this["_"+e]},i=function(t){t!==this["_"+e]&&(n(!0,this["_"+e],t,!this.id),this["_"+e]=t)};delete t[e]&&(n(!1,void 0,t[e],t.id),Object.defineProperty(t,e,{get:r,set:i,enumerable:!0,configurable:!0}))}}n(27),e.Attribute=Attribute},function(t,e,n){"use strict";function JsonApiModelConfig(t){return void 0===t&&(t={}),function(e){Reflect.defineMetadata("JsonApiModelConfig",t,e)}}n(27),e.JsonApiModelConfig=JsonApiModelConfig},function(t,e,n){"use strict";function JsonApiDatastoreConfig(t){return void 0===t&&(t={}),function(e){Reflect.defineMetadata("JsonApiDatastoreConfig",t,e)}}n(27),e.JsonApiDatastoreConfig=JsonApiDatastoreConfig},function(t,e,n){"use strict";var r=n(56);n(27);var i=function(){function JsonApiModel(t,e){this._datastore=t,e&&(this.id=e.id,r.extend(this,e.attributes))}return JsonApiModel.prototype.syncRelationships=function(t,e,n){t&&(this.parseHasMany(t,e,n),this.parseBelongsTo(t,e,n))},JsonApiModel.prototype.save=function(t,e){var n=Reflect.getMetadata("Attribute",this);return this._datastore.saveRecord(n,this,t,e)},Object.defineProperty(JsonApiModel.prototype,"hasDirtyAttributes",{get:function(){var t=Reflect.getMetadata("Attribute",this),e=!1;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if(r.hasDirtyAttributes){e=!0;break}}return e},enumerable:!0,configurable:!0}),JsonApiModel.prototype.rollbackAttributes=function(){var t,e=Reflect.getMetadata("Attribute",this);for(var n in e)e.hasOwnProperty(n)&&e[n].hasDirtyAttributes&&(this[n]=e[n].oldValue,t={hasDirtyAttributes:!1,newValue:e[n].oldValue,oldValue:void 0},e[n]=t);Reflect.defineMetadata("Attribute",e,this)},JsonApiModel.prototype.parseHasMany=function(t,e,n){var r=Reflect.getMetadata("HasMany",this);if(r)for(var i=0,o=r;i<o.length;i++){var a=o[i],s=t.relationships[a.relationship];if(s&&s.data&&s.data.length>0){console.log(s,this);var c=s.data[0].type,u=Reflect.getMetadata("JsonApiDatastoreConfig",this._datastore.constructor).models[c],f=this.getHasManyRelationship(u,s.data,e,c,n);f.length>0&&(this[a.propertyName]=f)}}},JsonApiModel.prototype.parseBelongsTo=function(t,e,n){var r=Reflect.getMetadata("BelongsTo",this);if(r)for(var i=0,o=r;i<o.length;i++){var a=o[i],s=t.relationships[a.relationship];if(s&&s.data){var c=s.data instanceof Array?s.data[0]:s.data,u=c.type,f=Reflect.getMetadata("JsonApiDatastoreConfig",this._datastore.constructor).models[u],p=this.getBelongsToRelationship(f,c,e,u,n);p&&(this[a.propertyName]=p)}}},JsonApiModel.prototype.getHasManyRelationship=function(t,e,n,i,o){var a=this,s=[];return e.forEach(function(e){var c=r.findWhere(n,{id:e.id,type:i});if(c){var u=a.createOrPeek(t,c);o<=1&&u.syncRelationships(c,n,o+1),s.push(u)}}),s},JsonApiModel.prototype.getBelongsToRelationship=function(t,e,n,i,o){var a=e.id,s=r.findWhere(n,{id:a,type:i});if(s){var c=this.createOrPeek(t,s);return o<=1&&c.syncRelationships(s,n,o+1),c}return this._datastore.peekRecord(t,a)},JsonApiModel.prototype.createOrPeek=function(t,e){var n=this._datastore.peekRecord(t,e.id);if(n)return n;var r=new t(this._datastore,e);return this._datastore.addToStore(r),r},JsonApiModel}();e.JsonApiModel=i},function(t,e,n){var r,i;(function(){function createReduce(t){function iterator(e,n,r,i,o,a){for(;o>=0&&o<a;o+=t){var s=i?i[o]:o;r=n(r,e[s],s,e)}return r}return function(e,n,r,i){n=m(n,i,4);var o=!O(e)&&v.keys(e),a=(o||e).length,s=t>0?0:a-1;return arguments.length<3&&(r=e[o?o[s]:s],s+=t),iterator(e,n,r,o,s,a)}}function createPredicateIndexFinder(t){return function(e,n,r){n=w(n,r);for(var i=k(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}}function createIndexFinder(t,e,n){return function(r,i,o){var a=0,s=k(r);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=e(f.call(r,a,s),v.isNaN),o>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(r[o]===i)return o;return-1}}function collectNonEnumProps(t,e){var n=E.length,r=t.constructor,i=v.isFunction(r)&&r.prototype||s,o="constructor";for(v.has(t,o)&&!v.contains(e,o)&&e.push(o);n--;)o=E[n],o in t&&t[o]!==i[o]&&!v.contains(e,o)&&e.push(o)}var n=this,o=n._,a=Array.prototype,s=Object.prototype,c=Function.prototype,u=a.push,f=a.slice,p=s.toString,l=s.hasOwnProperty,d=Array.isArray,h=Object.keys,A=c.bind,y=Object.create,g=function(){},v=function(t){return t instanceof v?t:this instanceof v?void(this._wrapped=t):new v(t)};"undefined"!=typeof t&&t.exports&&(e=t.exports=v),e._=v,v.VERSION="1.8.3";var m=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}},w=function(t,e,n){return null==t?v.identity:v.isFunction(t)?m(t,e,n):v.isObject(t)?v.matcher(t):v.property(t)};v.iteratee=function(t,e){return w(t,e,1/0)};var b=function(t,e){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=t(o),s=a.length,c=0;c<s;c++){var u=a[c];e&&void 0!==n[u]||(n[u]=o[u])}return n}},_=function(t){if(!v.isObject(t))return{};if(y)return y(t);g.prototype=t;var e=new g;return g.prototype=null,e},S=function(t){return function(e){return null==e?void 0:e[t]}},x=Math.pow(2,53)-1,k=S("length"),O=function(t){var e=k(t);return"number"==typeof e&&e>=0&&e<=x};v.each=v.forEach=function(t,e,n){e=m(e,n);var r,i;if(O(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=v.keys(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t},v.map=v.collect=function(t,e,n){e=w(e,n);for(var r=!O(t)&&v.keys(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=e(t[s],s,t)}return o},v.reduce=v.foldl=v.inject=createReduce(1),v.reduceRight=v.foldr=createReduce(-1),v.find=v.detect=function(t,e,n){var r;if(r=O(t)?v.findIndex(t,e,n):v.findKey(t,e,n),void 0!==r&&r!==-1)return t[r]},v.filter=v.select=function(t,e,n){var r=[];return e=w(e,n),v.each(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r},v.reject=function(t,e,n){return v.filter(t,v.negate(w(e)),n)},v.every=v.all=function(t,e,n){e=w(e,n);for(var r=!O(t)&&v.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(!e(t[a],a,t))return!1}return!0},v.some=v.any=function(t,e,n){e=w(e,n);for(var r=!O(t)&&v.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(e(t[a],a,t))return!0}return!1},v.contains=v.includes=v.include=function(t,e,n,r){return O(t)||(t=v.values(t)),("number"!=typeof n||r)&&(n=0),v.indexOf(t,e,n)>=0},v.invoke=function(t,e){var n=f.call(arguments,2),r=v.isFunction(e);return v.map(t,function(t){var i=r?e:t[e];return null==i?i:i.apply(t,n)})},v.pluck=function(t,e){return v.map(t,v.property(e))},v.where=function(t,e){return v.filter(t,v.matcher(e))},v.findWhere=function(t,e){return v.find(t,v.matcher(e))},v.max=function(t,e,n){var r,i,o=-(1/0),a=-(1/0);if(null==e&&null!=t){t=O(t)?t:v.values(t);for(var s=0,c=t.length;s<c;s++)r=t[s],r>o&&(o=r)}else e=w(e,n),v.each(t,function(t,n,r){i=e(t,n,r),(i>a||i===-(1/0)&&o===-(1/0))&&(o=t,a=i)});return o},v.min=function(t,e,n){var r,i,o=1/0,a=1/0;if(null==e&&null!=t){t=O(t)?t:v.values(t);for(var s=0,c=t.length;s<c;s++)r=t[s],r<o&&(o=r)}else e=w(e,n),v.each(t,function(t,n,r){i=e(t,n,r),(i<a||i===1/0&&o===1/0)&&(o=t,a=i)});return o},v.shuffle=function(t){for(var e,n=O(t)?t:v.values(t),r=n.length,i=Array(r),o=0;o<r;o++)e=v.random(0,o),e!==o&&(i[o]=i[e]),i[e]=n[o];return i},v.sample=function(t,e,n){return null==e||n?(O(t)||(t=v.values(t)),t[v.random(t.length-1)]):v.shuffle(t).slice(0,Math.max(0,e))},v.sortBy=function(t,e,n){return e=w(e,n),v.pluck(v.map(t,function(t,n,r){return{value:t,index:n,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")};var R=function(t){return function(e,n,r){var i={};return n=w(n,r),v.each(e,function(r,o){var a=n(r,o,e);t(i,r,a)}),i}};v.groupBy=R(function(t,e,n){v.has(t,n)?t[n].push(e):t[n]=[e]}),v.indexBy=R(function(t,e,n){t[n]=e}),v.countBy=R(function(t,e,n){v.has(t,n)?t[n]++:t[n]=1}),v.toArray=function(t){return t?v.isArray(t)?f.call(t):O(t)?v.map(t,v.identity):v.values(t):[]},v.size=function(t){return null==t?0:O(t)?t.length:v.keys(t).length},v.partition=function(t,e,n){e=w(e,n);var r=[],i=[];return v.each(t,function(t,n,o){(e(t,n,o)?r:i).push(t)}),[r,i]},v.first=v.head=v.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:v.initial(t,t.length-e)},v.initial=function(t,e,n){return f.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},v.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:v.rest(t,Math.max(0,t.length-e))},v.rest=v.tail=v.drop=function(t,e,n){return f.call(t,null==e||n?1:e)},v.compact=function(t){return v.filter(t,v.identity)};var M=function(t,e,n,r){for(var i=[],o=0,a=r||0,s=k(t);a<s;a++){var c=t[a];if(O(c)&&(v.isArray(c)||v.isArguments(c))){e||(c=M(c,e,n));var u=0,f=c.length;for(i.length+=f;u<f;)i[o++]=c[u++]}else n||(i[o++]=c)}return i};v.flatten=function(t,e){return M(t,e,!1)},v.without=function(t){return v.difference(t,f.call(arguments,1))},v.uniq=v.unique=function(t,e,n,r){v.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=w(n,r));for(var i=[],o=[],a=0,s=k(t);a<s;a++){var c=t[a],u=n?n(c,a,t):c;e?(a&&o===u||i.push(c),o=u):n?v.contains(o,u)||(o.push(u),i.push(c)):v.contains(i,c)||i.push(c)}return i},v.union=function(){return v.uniq(M(arguments,!0,!0))},v.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=k(t);r<i;r++){var o=t[r];if(!v.contains(e,o)){for(var a=1;a<n&&v.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},v.difference=function(t){var e=M(arguments,!0,!0,1);return v.filter(t,function(t){return!v.contains(e,t)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(t){for(var e=t&&v.max(t,k).length||0,n=Array(e),r=0;r<e;r++)n[r]=v.pluck(t,r);return n},v.object=function(t,e){for(var n={},r=0,i=k(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},v.findIndex=createPredicateIndexFinder(1),v.findLastIndex=createPredicateIndexFinder(-1),v.sortedIndex=function(t,e,n,r){n=w(n,r,1);for(var i=n(e),o=0,a=k(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<i?o=s+1:a=s}return o},v.indexOf=createIndexFinder(1,v.findIndex,v.sortedIndex),v.lastIndexOf=createIndexFinder(-1,v.findLastIndex),v.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i};var P=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=_(t.prototype),a=t.apply(o,i);return v.isObject(a)?a:o};v.bind=function(t,e){if(A&&t.bind===A)return A.apply(t,f.call(arguments,1));if(!v.isFunction(t))throw new TypeError("Bind must be called on a function");var n=f.call(arguments,2),r=function(){return P(t,r,e,this,n.concat(f.call(arguments)))};return r},v.partial=function(t){var e=f.call(arguments,1),n=function(){for(var r=0,i=e.length,o=Array(i),a=0;a<i;a++)o[a]=e[a]===v?arguments[r++]:e[a];for(;r<arguments.length;)o.push(arguments[r++]);return P(t,n,this,this,o)};return n},v.bindAll=function(t){var e,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(e=1;e<r;e++)n=arguments[e],t[n]=v.bind(t[n],t);return t},v.memoize=function(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return v.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},v.delay=function(t,e){var n=f.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},v.defer=v.partial(v.delay,v,1),v.throttle=function(t,e,n){var r,i,o,a=null,s=0;n||(n={});var c=function(){s=n.leading===!1?0:v.now(),a=null,o=t.apply(r,i),a||(r=i=null)};return function(){var u=v.now();s||n.leading!==!1||(s=u);var f=e-(u-s);return r=this,i=arguments,f<=0||f>e?(a&&(clearTimeout(a),a=null),s=u,o=t.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(c,f)),o}},v.debounce=function(t,e,n){var r,i,o,a,s,c=function(){var u=v.now()-a;u<e&&u>=0?r=setTimeout(c,e-u):(r=null,n||(s=t.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=v.now();var u=n&&!r;return r||(r=setTimeout(c,e)),u&&(s=t.apply(o,i),o=i=null),s}},v.wrap=function(t,e){return v.partial(e,t)},v.negate=function(t){return function(){return!t.apply(this,arguments)}},v.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},v.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},v.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},v.once=v.partial(v.before,2);var I=!{toString:null}.propertyIsEnumerable("toString"),E=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];v.keys=function(t){if(!v.isObject(t))return[];if(h)return h(t);var e=[];for(var n in t)v.has(t,n)&&e.push(n);return I&&collectNonEnumProps(t,e),e},v.allKeys=function(t){if(!v.isObject(t))return[];var e=[];for(var n in t)e.push(n);return I&&collectNonEnumProps(t,e),e},v.values=function(t){for(var e=v.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r},v.mapObject=function(t,e,n){e=w(e,n);for(var r,i=v.keys(t),o=i.length,a={},s=0;s<o;s++)r=i[s],a[r]=e(t[r],r,t);return a},v.pairs=function(t){for(var e=v.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},v.invert=function(t){for(var e={},n=v.keys(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e},v.functions=v.methods=function(t){var e=[];for(var n in t)v.isFunction(t[n])&&e.push(n);return e.sort()},v.extend=b(v.allKeys),v.extendOwn=v.assign=b(v.keys),v.findKey=function(t,e,n){e=w(e,n);for(var r,i=v.keys(t),o=0,a=i.length;o<a;o++)if(r=i[o],e(t[r],r,t))return r},v.pick=function(t,e,n){var r,i,o={},a=t;if(null==a)return o;v.isFunction(e)?(i=v.allKeys(a),r=m(e,n)):(i=M(arguments,!1,!1,1),r=function(t,e,n){return e in n},a=Object(a));for(var s=0,c=i.length;s<c;s++){var u=i[s],f=a[u];r(f,u,a)&&(o[u]=f)}return o},v.omit=function(t,e,n){if(v.isFunction(e))e=v.negate(e);else{var r=v.map(M(arguments,!1,!1,1),String);e=function(t,e){return!v.contains(r,e)}}return v.pick(t,e,n)},v.defaults=b(v.allKeys,!0),v.create=function(t,e){var n=_(t);return e&&v.extendOwn(n,e),n},v.clone=function(t){return v.isObject(t)?v.isArray(t)?t.slice():v.extend({},t):t},v.tap=function(t,e){return e(t),t},v.isMatch=function(t,e){var n=v.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0};var C=function(t,e,n,r){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof v&&(t=t._wrapped),e instanceof v&&(e=e._wrapped);var i=p.call(t);if(i!==p.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(v.isFunction(a)&&a instanceof a&&v.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var c=n.length;c--;)if(n[c]===t)return r[c]===e;if(n.push(t),r.push(e),o){if(c=t.length,c!==e.length)return!1;for(;c--;)if(!C(t[c],e[c],n,r))return!1}else{var u,f=v.keys(t);if(c=f.length,v.keys(e).length!==c)return!1;for(;c--;)if(u=f[c],!v.has(e,u)||!C(t[u],e[u],n,r))return!1}return n.pop(),r.pop(),!0};v.isEqual=function(t,e){return C(t,e)},v.isEmpty=function(t){return null==t||(O(t)&&(v.isArray(t)||v.isString(t)||v.isArguments(t))?0===t.length:0===v.keys(t).length)},v.isElement=function(t){return!(!t||1!==t.nodeType)},v.isArray=d||function(t){return"[object Array]"===p.call(t)},v.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){v["is"+t]=function(e){return p.call(e)==="[object "+t+"]"}}),v.isArguments(arguments)||(v.isArguments=function(t){return v.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(t){return"function"==typeof t||!1}),v.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},v.isNaN=function(t){return v.isNumber(t)&&t!==+t},v.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===p.call(t)},v.isNull=function(t){return null===t},v.isUndefined=function(t){return void 0===t},v.has=function(t,e){return null!=t&&l.call(t,e)},v.noConflict=function(){return n._=o,this},v.identity=function(t){return t},v.constant=function(t){return function(){return t}},v.noop=function(){},v.property=S,v.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},v.matcher=v.matches=function(t){return t=v.extendOwn({},t),function(e){return v.isMatch(e,t)}},v.times=function(t,e,n){var r=Array(Math.max(0,t));e=m(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},v.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},v.now=Date.now||function(){return(new Date).getTime()};var j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},D=v.invert(j),B=function(t){var e=function(e){return t[e]},n="(?:"+v.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};v.escape=B(j),v.unescape=B(D),v.result=function(t,e,n){var r=null==t?void 0:t[e];return void 0===r&&(r=n),v.isFunction(r)?r.call(t):r};var T=0;v.uniqueId=function(t){var e=++T+"";return t?t+e:e},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},W=/\\|'|\r|\n|\u2028|\u2029/g,N=function(t){return"\\"+z[t]};v.template=function(t,e,n){!e&&n&&(e=n),e=v.defaults({},e,v.templateSettings);var r=RegExp([(e.escape||U).source,(e.interpolate||U).source,(e.evaluate||U).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,function(e,n,r,a,s){return o+=t.slice(i,s).replace(W,N),i=s+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(e.variable||"obj","_",o)}catch(s){throw s.source=o,s}var c=function(t){return a.call(this,t,v)},u=e.variable||"obj";return c.source="function("+u+"){\n"+o+"}",c},v.chain=function(t){var e=v(t);return e._chain=!0,e};var J=function(t,e){return t._chain?v(e).chain():e};v.mixin=function(t){v.each(v.functions(t),function(e){var n=v[e]=t[e];v.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),J(this,n.apply(v,t))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=a[t];v.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],J(this,n)}}),v.each(["concat","join","slice"],function(t){var e=a[t];v.prototype[t]=function(){return J(this,e.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},r=[],i=function(){return v}.apply(e,r),!(void 0!==i&&(t.exports=i))}).call(this)},function(t,e,n){"use strict";function __export(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}var r=n(58);__export(n(58)),e.PROVIDERS=[r.JsonApiDatastore]},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=n(56),a=n(3),s=n(24),c=n(5);n(59),n(61),n(68);var u=n(55),f=function(){function JsonApiDatastore(t){this.http=t,this._store={}}return JsonApiDatastore.prototype.query=function(t,e,n){var r=this,i=this.getOptions(n),o=this.buildUrl(t,e);return this.http.get(o,i).map(function(e){return r.extractQueryData(e,t)})["catch"](function(t){return r.handleError(t)})},JsonApiDatastore.prototype.findRecord=function(t,e,n,r){var i=this,o=this.getOptions(r),a=this.buildUrl(t,n,e);return this.http.get(a,o).map(function(e){return i.extractRecordData(e,t)})["catch"](function(t){return i.handleError(t)})},JsonApiDatastore.prototype.createRecord=function(t,e){return new t(this,{attributes:e})},JsonApiDatastore.prototype.saveRecord=function(t,e,n,r){var i=this,o=e.constructor,a=Reflect.getMetadata("JsonApiModelConfig",o).type,s=this.getOptions(r),c=e.id?void 0:this.getRelationships(e),u=this.buildUrl(o,n,e.id),f={};for(var p in t)if(t.hasOwnProperty(p)){var l=t[p];l.hasDirtyAttributes&&(f[p]=l.newValue)}var d,h={data:{type:a,id:e.id,attributes:f,relationships:c}};return d=e.id?this.http.patch(u,h,s):this.http.post(u,h,s),d.map(function(t){return i.extractRecordData(t,o,e)}).map(function(e){return i.resetMetadataAttributes(e,t,o)}).map(function(t){return i.updateRelationships(t,c)})["catch"](function(t){return i.handleError(t)})},JsonApiDatastore.prototype.peekRecord=function(t,e){var n=Reflect.getMetadata("JsonApiModelConfig",t).type;return this._store[n]?this._store[n][e]:null},JsonApiDatastore.prototype.peekAll=function(t){var e=Reflect.getMetadata("JsonApiModelConfig",t).type;return o.values(this._store[e])},Object.defineProperty(JsonApiDatastore.prototype,"headers",{set:function(t){this._headers=t},enumerable:!0,configurable:!0}),JsonApiDatastore.prototype.buildUrl=function(t,e,n){var r=Reflect.getMetadata("JsonApiModelConfig",t).type,i=Reflect.getMetadata("JsonApiDatastoreConfig",this.constructor).baseUrl,o=n?"/"+n:null;return[i,r,o,e?"?":"",this.toQueryString(e)].join("")},JsonApiDatastore.prototype.getRelationships=function(t){var e;for(var n in t)if(t.hasOwnProperty(n)&&t[n]instanceof u.JsonApiModel){e=e||{};var r=Reflect.getMetadata("JsonApiModelConfig",t[n].constructor).type;e[n]={data:{type:r,id:t[n].id}}}return e},JsonApiDatastore.prototype.extractQueryData=function(t,e){var n=this,r=t.json(),i=[];return r.data.forEach(function(t){var o=new e(n,t);n.addToStore(o),r.included&&(o.syncRelationships(t,r.included,0),n.addToStore(o)),i.push(o)}),i},JsonApiDatastore.prototype.extractRecordData=function(t,e,n){var r=t.json();return n&&(n.id=r.data.id,o.extend(n,r.data.attributes)),n=n||new e(this,r.data),this.addToStore(n),r.included&&(n.syncRelationships(r.data,r.included,0),this.addToStore(n)),n},JsonApiDatastore.prototype.handleError=function(t){var e=t.message?t.message:t.status?t.status+" - "+t.statusText:"Server error";return console.error(e),c.Observable["throw"](e)},JsonApiDatastore.prototype.getOptions=function(t){var e=this._headers?this._headers:new s.Headers;return e.append("Accept","application/vnd.api+json"),e.append("Content-Type","application/vnd.api+json"),t&&t.forEach(function(t,n){e.append(n,t[0])}),new s.RequestOptions({headers:e})},JsonApiDatastore.prototype.toQueryString=function(t){var e="";for(var n in t)if(t.hasOwnProperty(n)){e&&"&"!==e[e.length-1]&&(e+="&");var r=t[n];if(r instanceof Array)for(var i=0;i<r.length;i++)e=e+n+"="+encodeURIComponent(r[i])+"&";else if("object"==typeof r)for(var o in r)r.hasOwnProperty(o)&&(e=e+n+"["+o+"]="+encodeURIComponent(r[o])+"&");else e=e+n+"="+encodeURIComponent(r)}return"&"===e[e.length-1]&&(e=e.substr(0,e.length-1)),e},JsonApiDatastore.prototype.addToStore=function(t){var e=t instanceof Array?t[0]:t,n=Reflect.getMetadata("JsonApiModelConfig",e.constructor).type;this._store[n]||(this._store[n]={});var r=this.fromArrayToHash(t);o.extend(this._store[n],r)},JsonApiDatastore.prototype.fromArrayToHash=function(t){var e=t instanceof Array?t:[t];return o.indexBy(e,"id")},JsonApiDatastore.prototype.resetMetadataAttributes=function(t,e,n){e=Reflect.getMetadata("Attribute",t);for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];i.hasDirtyAttributes&&(i.hasDirtyAttributes=!1)}return Reflect.defineMetadata("Attribute",e,t),t},JsonApiDatastore.prototype.updateRelationships=function(t,e){var n=Reflect.getMetadata("JsonApiDatastoreConfig",this.constructor).models;for(var r in e)if(e.hasOwnProperty(r)&&t.hasOwnProperty(r)){var i=t[r],a=Reflect.getMetadata("HasMany",i),s=o.find(a,function(e){return n[e.relationship]===t.constructor});s&&i[s.propertyName].push(t)}return t},JsonApiDatastore=r([a.Injectable(),i("design:paramtypes",[s.Http])],JsonApiDatastore)}();e.JsonApiDatastore=f},,,,,,,,,,,,,function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=n(3),a=n(24),s=n(57),c=function(){function JsonApiModule(){}return JsonApiModule=r([o.NgModule({providers:[s.PROVIDERS],exports:[a.HttpModule]}),i("design:paramtypes",[])],JsonApiModule)}();e.JsonApiModule=c},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=n(3),a=n(73);n(76),n(80);var s=n(82),c=function(){function AppComponent(t,e){this.appManagerService=t,this.smService=e,this.appManagerService.install("/apps/about").then(function(t){return console.log(t)}),this.smService.loginAsGuest()}return AppComponent=r([o.Component({selector:"body",template:n(85)}),i("design:paramtypes",["function"==typeof(t="undefined"!=typeof a.AppManagerService&&a.AppManagerService)&&t||Object,"function"==typeof(e="undefined"!=typeof s.SessiongManagerService&&s.SessiongManagerService)&&e||Object])],AppComponent);var t,e}();e.AppComponent=c},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=n(3),a=n(24),s=n(74),c=n(75),u=function(){function AppManagerService(t,e){this.registryService=t,this.http=e}return AppManagerService.prototype.install=function(t){var e=this,n=this.registryService.getApps();for(var r in n)if(n[r].url===t)return Promise.resolve(n[r]);return this.http.get(t+"/mensa.json").toPromise().then(function(n){var r=n.json(),i=Math.random(),o=new c.App({id:i,url:t,name:r.name,config:r,logo:t+"/icon.png",entry:t+"/"+r.entry});return e.registryService.addApp(o),Promise.resolve(o)})["catch"](this.handleError)},AppManagerService.prototype.installCloudwareVersion=function(t){var e=this.registryService.getApps();
for(var n in e)if(e[n].id===t.id)return Promise.resolve(e[n]);var r=new c.App({id:t.id,config:t,name:t.cloudware.name,type:"cloudware",logo:"http://apiv2.cloudwarehub.com/uploads/"+t.cloudware.logo,entry:"/assets/js/cloudware.js"});return this.registryService.addApp(r),Promise.resolve(r)},AppManagerService.prototype.handleError=function(t){return console.error("An error occurred",t),Promise.reject(t.message||t)},AppManagerService=r([o.Injectable(),i("design:paramtypes",["function"==typeof(t="undefined"!=typeof s.RegistryService&&s.RegistryService)&&t||Object,"function"==typeof(e="undefined"!=typeof a.Http&&a.Http)&&e||Object])],AppManagerService);var t,e}();e.AppManagerService=u},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=n(3),a=function(){function RegistryService(){this.apps=[]}return RegistryService.prototype.getApps=function(){return this.apps},RegistryService.prototype.addApp=function(t){this.apps.push(t)},RegistryService=r([o.Injectable(),i("design:paramtypes",[])],RegistryService)}();e.RegistryService=a},function(t,e){"use strict";var n=function(){function App(t){for(var e in t)this[e]=t[e]}return App}();e.App=n},function(t,e){},,,,76,,function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=n(3),a=n(83),s=n(84),c=function(){function SessiongManagerService(t){this.dsService=t}return SessiongManagerService.prototype.loginAsGuest=function(){var t=this;if(localStorage.getItem("user")){var e=JSON.parse(localStorage.getItem("user"));return this.dsService.findRecord(s.User,e.id).subscribe(function(e){return t.currentUser=e}),localStorage.getItem("user")}var n=this.dsService.createRecord(s.User,{role:"guest"});n.save().subscribe(function(e){localStorage.setItem("user",JSON.stringify({id:e.id,sysname:e.sysname,role:e.role})),t.currentUser=e})},SessiongManagerService=r([o.Injectable(),i("design:paramtypes",["function"==typeof(t="undefined"!=typeof a.DatastoreService&&a.DatastoreService)&&t||Object])],SessiongManagerService);var t}();e.SessiongManagerService=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=n(3),s=n(24),c=n(25),u=n(84),f=function(t){function DatastoreService(e){t.call(this,e)}return r(DatastoreService,t),DatastoreService=i([a.Injectable(),c.JsonApiDatastoreConfig({baseUrl:"http://apiv2.cloudwarehub.com/",models:{cloudwares:u.Cloudware,versions:u.Version,users:u.User,instances:u.Instance}}),o("design:paramtypes",["function"==typeof(e="undefined"!=typeof s.Http&&s.Http)&&e||Object])],DatastoreService);var e}(c.JsonApiDatastore);e.DatastoreService=f},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=n(25),s=function(t){function Cloudware(){t.apply(this,arguments)}return r(Cloudware,t),i([a.Attribute(),o("design:type",String)],Cloudware.prototype,"name",void 0),i([a.Attribute(),o("design:type",String)],Cloudware.prototype,"logo",void 0),i([a.Attribute(),o("design:type",Array)],Cloudware.prototype,"versions",void 0),Cloudware=i([a.JsonApiModelConfig({type:"cloudwares"}),o("design:paramtypes",[])],Cloudware)}(a.JsonApiModel);e.Cloudware=s;var c=function(t){function Version(){t.apply(this,arguments)}return r(Version,t),i([a.Attribute(),o("design:type",String)],Version.prototype,"name",void 0),i([a.BelongsTo(),o("design:type",s)],Version.prototype,"cloudware",void 0),Version=i([a.JsonApiModelConfig({type:"versions"}),o("design:paramtypes",[])],Version)}(a.JsonApiModel);e.Version=c;var u=function(t){function User(){t.apply(this,arguments)}return r(User,t),i([a.Attribute(),o("design:type",String)],User.prototype,"email",void 0),i([a.Attribute(),o("design:type",String)],User.prototype,"role",void 0),i([a.Attribute(),o("design:type",String)],User.prototype,"sysname",void 0),User=i([a.JsonApiModelConfig({type:"users"}),o("design:paramtypes",[])],User)}(a.JsonApiModel);e.User=u;var f=function(t){function Instance(){t.apply(this,arguments)}return r(Instance,t),i([a.BelongsTo(),o("design:type",u)],Instance.prototype,"user",void 0),i([a.BelongsTo(),o("design:type",c)],Instance.prototype,"version",void 0),i([a.Attribute(),o("design:type",Number)],Instance.prototype,"width",void 0),i([a.Attribute(),o("design:type",Number)],Instance.prototype,"height",void 0),i([a.Attribute(),o("design:type",String)],Instance.prototype,"token",void 0),i([a.Attribute(),o("design:type",Boolean)],Instance.prototype,"usewebrtc",void 0),Instance=i([a.JsonApiModelConfig({type:"instances"}),o("design:paramtypes",[])],Instance)}(a.JsonApiModel);e.Instance=f},function(t,e){t.exports="<desktop></desktop>"},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=n(3),a=n(87),s=n(89),c=n(74),u=n(92),f=n(91),p=function(){function DesktopComponent(t,e,n,r,i){this.wmService=t,this.pmService=e,this.registryService=n,this.sessService=r,this.warpgateService=i,this.apps=[]}return DesktopComponent.prototype.ngOnInit=function(){var t=this;t.wmService.getWindows().then(function(e){return t.windows=e}),t.pmService.getProcesses().then(function(e){return t.processes=e}),this.apps=this.registryService.getApps(),document.onmousemove=function(e){var n=t.pmService.getActiveProcess();n&&n.dc.send(JSON.stringify({msg:"mousemove",payload:{id:0,x:e.pageX,y:e.pageY}}))},document.onmousedown=function(e){var n=t.pmService.getActiveProcess();n&&n.dc.send(JSON.stringify({msg:"mousedown",payload:{code:e.which}}))},document.onmouseup=function(e){var n=t.pmService.getActiveProcess();n&&n.dc.send(JSON.stringify({msg:"mouseup",payload:{code:e.which}}))},document.onkeydown=function(e){var n=t.pmService.getActiveProcess();n&&n.dc.send(JSON.stringify({msg:"keydown",payload:{code:t.mapKey(e.which)}}))},document.onkeyup=function(e){var n=t.pmService.getActiveProcess();n&&n.dc.send(JSON.stringify({msg:"keyup",payload:{code:t.mapKey(e.which)}}))}},DesktopComponent.prototype.active=function(t){this.wmService.activeWindow(t),t.process&&this.pmService.activeProcess(t.process)},DesktopComponent.prototype.mapKey=function(t){var e=this,n=[[65406,0,65406,0,0,0,0],[65307,0,65307,0,0,0,0],[49,33,49,33,0,0,0],[50,64,50,64,0,0,0],[51,35,51,35,0,0,0],[52,36,52,36,0,0,0],[53,37,53,37,0,0,0],[54,94,54,94,0,0,0],[55,38,55,38,0,0,0],[56,42,56,42,0,0,0],[57,40,57,40,0,0,0],[48,41,48,41,0,0,0],[45,95,45,95,0,0,0],[61,43,61,43,0,0,0],[65288,65288,65288,65288,0,0,0],[65289,65056,65289,65056,0,0,0],[113,81,113,81,0,0,0],[119,87,119,87,0,0,0],[101,69,101,69,0,0,0],[114,82,114,82,0,0,0],[116,84,116,84,0,0,0],[121,89,121,89,0,0,0],[117,85,117,85,0,0,0],[105,73,105,73,0,0,0],[111,79,111,79,0,0,0],[112,80,112,80,0,0,0],[91,123,91,123,0,0,0],[93,125,93,125,0,0,0],[65293,0,65293,0,0,0,0],[65507,0,65507,0,0,0,0],[97,65,97,65,0,0,0],[115,83,115,83,0,0,0],[100,68,100,68,0,0,0],[102,70,102,70,0,0,0],[103,71,103,71,0,0,0],[104,72,104,72,0,0,0],[106,74,106,74,0,0,0],[107,75,107,75,0,0,0],[108,76,108,76,0,0,0],[59,58,59,58,0,0,0],[39,34,39,34,0,0,0],[96,126,96,126,0,0,0],[65505,0,65505,0,0,0,0],[92,124,92,124,0,0,0],[122,90,122,90,0,0,0],[120,88,120,88,0,0,0],[99,67,99,67,0,0,0],[118,86,118,86,0,0,0],[98,66,98,66,0,0,0],[110,78,110,78,0,0,0],[109,77,109,77,0,0,0],[44,60,44,60,0,0,0],[46,62,46,62,0,0,0],[47,63,47,63,0,0,0],[65506,0,65506,0,0,0,0],[65450,65450,65450,65450,65450,65450,269024801],[65513,65511,65513,65511,0,0,0],[32,0,32,0,0,0,0],[65509,0,65509,0,0,0,0],[65470,65470,65470,65470,65470,65470,269024769],[65471,65471,65471,65471,65471,65471,269024770],[65472,65472,65472,65472,65472,65472,269024771],[65473,65473,65473,65473,65473,65473,269024772],[65474,65474,65474,65474,65474,65474,269024773],[65475,65475,65475,65475,65475,65475,269024774],[65476,65476,65476,65476,65476,65476,269024775],[65477,65477,65477,65477,65477,65477,269024776],[65478,65478,65478,65478,65478,65478,269024777],[65479,65479,65479,65479,65479,65479,269024778],[65407,0,65407,0,0,0,0],[65300,0,65300,0,0,0,0],[65429,65463,65429,65463,0,0,0],[65431,65464,65431,65464,0,0,0],[65434,65465,65434,65465,0,0,0],[65453,65453,65453,65453,65453,65453,269024803],[65430,65460,65430,65460,0,0,0],[65437,65461,65437,65461,0,0,0],[65432,65462,65432,65462,0,0,0],[65451,65451,65451,65451,65451,65451,269024802],[65436,65457,65436,65457,0,0,0],[65433,65458,65433,65458,0,0,0],[65435,65459,65435,65459,0,0,0],[65438,65456,65438,65456,0,0,0],[65439,65454,65439,65454,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[60,62,60,62,124,166,124],[65480,65480,65480,65480,65480,65480,269024779],[65481,65481,65481,65481,65481,65481,269024780],[65360,0,65360,0,0,0,0],[65362,0,65362,0,0,0,0],[65365,0,65365,0,0,0,0],[65361,0,65361,0,0,0,0],[0,0,0,0,0,0,0],[65363,0,65363,0,0,0,0],[65367,0,65367,0,0,0,0],[65364,0,65364,0,0,0,0],[65366,0,65366,0,0,0,0],[65379,0,65379,0,0,0,0],[65535,0,65535,0,0,0,0],[65421,0,65421,0,0,0,0],[65508,0,65508,0,0,0,0],[65299,65387,65299,65387,0,0,0],[65377,65301,65377,65301,0,0,0],[65455,65455,65455,65455,65455,65455,269024800],[65514,65512,65514,65512,0,0,0],[0,0,0,0,0,0,0],[65515,0,65515,0,0,0,0],[65516,0,65516,0,0,0,0],[65383,0,65383,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[65027,0,65027,0,0,0,0],[0,65513,0,65513,0,0,0],[65469,0,65469,0,0,0,0],[0,65515,0,65515,0,0,0],[0,65517,0,65517,0,0,0],[269025074,0,269025074,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[65454,65454,65454,65454,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[269025046,0,269025046,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[269025071,0,269025071,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[269025047,0,269025047,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,65511,0,65511,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[269025042,0,269025042,0,0,0,0],[269025053,0,269025053,0,0,0,0],[269025044,269025073,269025044,269025073,0,0,0],[0,0,0,0,0,0,0],[269025045,269025068,269025045,269025068,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[269025068,0,269025068,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[269025041,0,269025041,0,0,0,0],[0,0,0,0,0,0,0],[269025043,0,269025043,0,0,0,0],[0,0,0,0,0,0,0],[269025070,0,269025070,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[269025068,0,269025068,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[269025113,0,269025113,0,0,0,0],[269025028,0,269025028,0,0,0,0],[269025030,0,269025030,0,0,0,0],[269025029,0,269025029,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[269025066,0,269025066,0,0,0,0],[269025040,0,269025040,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[269025067,0,269025067,0,0,0,0],[0,0,0,0,0,0,0],[269025051,0,269025051,0,0,0,0],[269025072,0,269025072,0,0,0,0],[269025139,0,269025139,0,0,0,0],[269025064,0,269025064,0,0,0,0],[269025063,0,269025063,0,0,0,0],[269025062,0,269025062,0,0,0,0],[269025075,0,269025075,0,0,0,0],[269025049,0,269025049,0,0,0,0],[269025074,0,269025074,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[269025171,0,269025171,0,0,0,0],[0,0,0,0,0,0,0],[269025173,0,269025173,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],r={190:"46",16:"65506",17:"65507",18:"65513",34:"65307",191:"47",20:"65509",9:"65289",189:"45",187:"61",8:"65288",220:"92",13:"65293",192:"96",186:"59",222:"34",188:"44",27:"65307",39:"65363",37:"65361",38:"65362",40:"65364"},i=e.buildASCIIToXKeyMap(n,8);r[t]&&(t=r[t]);var o=i[t];return void 0!==o&&null!==o||(o=0),o},DesktopComponent.prototype.buildASCIIToXKeyMap=function(t,e){for(var n={},r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++){var o=t[r][i],a=r+e;0!==o&&(n[o]=a)}return n},r([o.Input(),i("design:type",Array)],DesktopComponent.prototype,"windows",void 0),DesktopComponent=r([o.Component({selector:"desktop",template:n(93),styles:[n(94)]}),i("design:paramtypes",["function"==typeof(t="undefined"!=typeof a.WmService&&a.WmService)&&t||Object,"function"==typeof(e="undefined"!=typeof s.ProcessManagerService&&s.ProcessManagerService)&&e||Object,"function"==typeof(p="undefined"!=typeof c.RegistryService&&c.RegistryService)&&p||Object,"function"==typeof(l="undefined"!=typeof f.SessionService&&f.SessionService)&&l||Object,"function"==typeof(d="undefined"!=typeof u.WarpgateService&&u.WarpgateService)&&d||Object])],DesktopComponent);var t,e,p,l,d}();e.DesktopComponent=p},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=n(3),a=n(88),s=function(){function WmService(){this.windows=[],this.zIndex=2}return WmService.prototype.getWindows=function(){return Promise.resolve(this.windows)},WmService.prototype.createWindow=function(t){var e=new a.Window(t);return e.id||(e.id=Math.floor(1e4*Math.random())),e.zIndex=this.zIndex++,this.windows.push(e),Promise.resolve(e)},WmService.prototype.showWindow=function(t){return t.visible=!0,console.log(t),Promise.resolve(t)},WmService.prototype.destroyWindow=function(t){for(var e in this.windows)if(t==this.windows[e]){this.windows[e].process&&this.windows[e].process.worker&&this.windows[e].process.worker.postMessage({msg:"destroy",payload:this.windows[e].id}),this.windows.splice(parseInt(e),1);break}},WmService.prototype.maximizeWindow=function(t){t.maximize()},WmService.prototype.activeWindow=function(t){t.zIndex=this.zIndex++},WmService.prototype.getWindowById=function(t){for(var e in this.windows)if(this.windows[e].id==t)return this.windows[e];return null},WmService=r([o.Injectable(),i("design:paramtypes",[])],WmService)}();e.WmService=s},function(t,e){"use strict";var n=function(){function Window(t){this.bare=!1,this.isMaximized=!1,this.isMinimized=!1,this.startRender=!0,this.type="normal",this.minimizable=!0,this.maximizable=!0,this.visible=!1;for(var e in t)this[e]=t[e];"cloudware"==this.type,this.startRender=!0,this.renderCheckHandle=null}return Window.prototype.maximize=function(){this.oldGeo={x:this.x,y:this.y,width:this.width,height:this.height},this.x=0,this.y=0,this.width=document.body.clientWidth,this.height=document.body.clientHeight-41,this.isMaximized=!0},Window.prototype.unMaximize=function(){this.x=this.oldGeo.x,this.y=this.oldGeo.y,this.width=this.oldGeo.width,this.height=this.oldGeo.height,this.isMaximized=!1},Window.prototype.toggleMaximize=function(){this.isMaximized?this.unMaximize():this.maximize()},Window.prototype.minimize=function(){this.visible=!1,this.isMinimized=!0},Window.prototype.unMinimize=function(){this.isMinimized&&(this.visible=!0)},Window.prototype.configure=function(t){var e=this,n=function(){e.startRender=!0,clearTimeout(e.renderCheckHandle)};this.startRender=!1,clearTimeout(this.renderCheckHandle),this.renderCheckHandle=setTimeout(n,600),this.x=t.left?t.left:t.x,this.y=t.top?t.top:t.y,this.width=t.width,this.height=t.height},Window.prototype.hide=function(){this.visible=!1},Window.prototype.destroy=function(){},Window}();e.Window=n},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=n(3),a=n(87),s=n(90),c=n(83),u=n(82),f=n(91),p=function(){function ProcessManagerService(t,e,n,r){this.wmService=t,this.dsService=e,this.smService=n,this.sessService=r,this.pid=0,this.processes=[],this.zone=new o.NgZone({enableLongStackTrace:!1})}return ProcessManagerService.prototype.supportWebrtc=function(){var t=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,e=!!t;return"nowebrtc"==window.location.hash.substr(1)&&(e=!1),{support:e}},ProcessManagerService.prototype.getProcesses=function(){return Promise.resolve(this.processes)},ProcessManagerService.prototype.activeProcess=function(t){this.processes.forEach(function(t){t.active=!1}),t.active=!0},ProcessManagerService.prototype.getActiveProcess=function(){for(var t in this.processes)if(this.processes[t].active)return this.processes[t];return null},ProcessManagerService.prototype.encode=function(t){for(var e,n,r,i,o,a,s,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",f=0;f<t.length;)e=t[f++],n=f<t.length?t[f++]:Number.NaN,r=f<t.length?t[f++]:Number.NaN,i=e>>2,o=(3&e)<<4|n>>4,a=(15&n)<<2|r>>6,s=63&r,isNaN(n)?a=s=64:isNaN(r)&&(s=64),u+=c.charAt(i)+c.charAt(o)+c.charAt(a)+c.charAt(s);return"data:image/x-icon;base64,"+u},ProcessManagerService.prototype.showLoading=function(){var t=this;return this.wmService.createWindow({title:"Loading...",width:400,height:100,x:document.body.clientWidth/2-200,y:150,content:'\n      <div class="cssload-container">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n      ',minimizable:!1,maximizable:!1}).then(function(e){return t.wmService.showWindow(e)})},ProcessManagerService.prototype.randomIntFromInterval=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},ProcessManagerService.prototype.run=function(t){var e=this;this.showLoading().then(function(t){setTimeout(function(){e.wmService.destroyWindow(t)},12e3)});var n=e.randomIntFromInterval(1e4,3e4),r=e.randomIntFromInterval(10,1e4);e.sessService.send(JSON.stringify({request:"run",payload:'sudo docker run -ti -d --net host --privileged -e "DISPLAY=:'+r+'" -e "PORT='+n+'" -e APP=gedit cloudwarehouse/demo'})),setTimeout(function(){var r=new s.Process({pid:e.pid++,entry:"/assets/js/cloudware.js",app:t,instance:null,token:123,port:n});e.processes.push(r),e.activeProcess(r)},7e3)},ProcessManagerService.prototype.makeSrc=function(t,e){return t?0===t.indexOf("http")?t:e.app.url+"/"+t:null},ProcessManagerService.prototype.handleMessage=function(t,e){var n=this,r=this,i=function(t,n){var r={seq:t.seq,payload:n};e.worker.postMessage(r)},o=t.data,a=o.resource,s=o.action,c=o.payload;switch(a){case"screen":switch(s){case"renderFrame":c.width===self.screen.width&&c.height===self.screen.height||(e.screen.width=c.width,e.screen.height=c.height,e.screen.imageData=e.screen.canvas.getContext("2d").createImageData(c.width,c.height)),e.screen.imageData.data.set(c.buffer),e.windows.forEach(function(t){t.startRender&&t.canvas&&(t.canvas.width=t.width,t.canvas.height=t.height,t.canvas.getContext("2d").putImageData(e.screen.imageData,-t.x,-t.y))});break;case"setCursor":var u=this.encode(new Uint8Array(c.iconBuffer));"AAAADoAgAAFgAAACgAAAAgAAAAQAAAAAEABAAAAAAAgAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACAAAAAgIAAgAAAAIAAgACAgAAAgICAAMDAwAAAAP8AAP8AAAD//wD/AAAA/wD/AP//AAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/w//AAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAAAAP/w//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////w=="!=u.substr(39)&&"AAAADoAgAAFgAAACgAAAAgAAAAQAAAAAEABAAAAAAAgAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACAAAAAgIAAgAAAAIAAgACAgAAAgICAAMDAwAAAAP8AAP8AAAD//wD/AAAA/wD/AP//AAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/8P/wAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAAAAAAAAAAADwAAAA////AAAAAAAAAAAA8AAAAAAAAAAAAAAAAAAAAPAAAAD//////wAAAAAAAADwAAAAAAAAAAAAAAAAAAAA8AAAAP///wAAAAAAAAAAAPAAAAAAAAAAAAAAAAAAD/8P/wAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////w=="!=u.substr(39)||(u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAPElEQVRYhe3VsQoAIAhAQev//9n2lnAoqO42SeRtRfyuLd5z2p3no3K9Utd3HBUgQIAAAQIqrvqOAeBNA2bsBRzk+8IJAAAAAElFTkSuQmCC"),document.getElementsByTagName("body")[0].style.cursor="url('"+u+"')"+c.xspot+" "+c.yspot+", auto"}break;case"app":switch(s){case"info":i(o,e.app.config);break;case"exit":e.windows.forEach(function(t){r.zone.run(function(){r.wmService.destroyWindow(t)})});for(var f in this.processes)if(this.processes[f]==e){this.zone.run(function(){n.processes.splice(parseInt(f),1)});break}document.getElementsByTagName("body")[0].style.cursor="default";var p=document.getElementById(e.screen.video_id);p&&p.parentNode.removeChild(p)}break;case"instance":switch(s){case"token":i(o,e.instance.token)}break;case"window":switch(s){case"create":var l={title:c.title||"window",x:c.x||0,y:c.y||0,width:c.width||1,height:c.height||1,content:c.content||"",process:e,type:c.type||"normal",bare:!0,src:this.makeSrc(c.src,e)||null};this.zone.run(function(){n.wmService.createWindow(l).then(function(t){e.windows.push(t),i(o,t.id)})});break;case"show":var d=this.wmService.getWindowById(c);d&&this.zone.run(function(){n.wmService.showWindow(d)});break;case"hide":var d=this.wmService.getWindowById(c);d&&d.hide();break;case"configure":var d=this.wmService.getWindowById(c.id);d&&this.zone.run(function(){d.configure(c.styles)});break;case"destroy":var d=this.wmService.getWindowById(c);d&&this.zone.run(function(){n.wmService.destroyWindow(d)})}}},ProcessManagerService.prototype.handleError=function(t){return console.error("An error occurred",t),Promise.reject(t.message||t)},ProcessManagerService=r([o.Injectable(),i("design:paramtypes",["function"==typeof(t="undefined"!=typeof a.WmService&&a.WmService)&&t||Object,"function"==typeof(e="undefined"!=typeof c.DatastoreService&&c.DatastoreService)&&e||Object,"function"==typeof(n="undefined"!=typeof u.SessiongManagerService&&u.SessiongManagerService)&&n||Object,"function"==typeof(p="undefined"!=typeof f.SessionService&&f.SessionService)&&p||Object])],ProcessManagerService);var t,e,n,p}();e.ProcessManagerService=p},function(t,e,n){"use strict";var r=n(3),i=function(){function Process(t){this.windows=[],this.active=!1,this.useWebrtc=!1;for(var e in t)this[e]=t[e];var n=this;if(this.useWebrtc=this.supportWebrtc().support,this.zone=new r.NgZone({enableLongStackTrace:!1}),this.screen={width:0,height:0,canvas:document.createElement("canvas"),video:document.createElement("video"),video_id:this.token},this.useWebrtc){this.screen.video.setAttribute("id",this.screen.video_id),document.body.appendChild(this.screen.video),document.getElementById(n.screen.video_id).setAttribute("autoplay","true");var i=new WebSocket("ws://"+document.domain+":"+n.port);n.signal=i,i.onmessage=function(t){var e=t.data.replace("\r\n","\\r\\n"),r=JSON.parse(e);t.data.length<400?n.pc.addIceCandidate(new RTCIceCandidate(r)):n.pc.setRemoteDescription(new RTCSessionDescription(r))},n.startPeerConnection()}}return Process.prototype.supportWebrtc=function(){var t=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,e=!!t;return"nowebrtc"==window.location.hash.substr(1)&&(e=!1),{support:e}},Process.prototype.sets=function(t){for(var e in t)this[e]=t[e]},Process.prototype.startPeerConnection=function(){var t=this,e={iceServers:[{url:"turn:106.75.71.14:3478?transport=tcp",username:"gd",credential:"gd"}]};t.pc=new RTCPeerConnection(e);var n=t.pc,r=t.signal,i=n.createDataChannel("event channel");t.dc=i,n.onicecandidate=function(t){if(null!==t.candidate){var e=t.candidate.candidate;e.indexOf("relay")<0,setTimeout(function(){r.send(JSON.stringify(t.candidate))},2e3)}},n.onaddstream=function(e){var n=document.getElementById(t.screen.video_id),n=n;!function loop(){t.windows.forEach(function(t){t.visible&&t.canvas&&(t.canvas.width=t.width,t.canvas.height=t.height,t.canvas.getContext("2d").drawImage(n,-t.x,-t.y))}),setTimeout(loop,0)}(),n.src=URL.createObjectURL(e.stream)};var o=function(e){e.sdp=t.setBandwidth(e.sdp,50,4500),n.setLocalDescription(e),setTimeout(function(){r.send(JSON.stringify(e))},2e3)};n.createOffer(o,function(t){console.log("Failure callback: "+t)},{offerToReceiveVideo:!0})},Process.prototype.setBandwidth=function(t,e,n){return t=t.replace(/a=mid:audio\r\n/g,"a=mid:audio\r\nb=AS:"+e+"\r\n"),t=t.replace(/a=mid:video\r\n/g,"a=mid:video\r\nb=AS:"+n+"\r\n")},Process}();e.Process=i},function(t,e){"use strict";var n=function(){function SessionService(){this.ws=new WebSocket("ws://"+document.domain+":8081")}return SessionService.prototype.send=function(t){var e=this;e.ws.send(t)},SessionService}();e.SessionService=n},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=n(3),a=function(){function WarpgateService(){this.states=[],this.currentState=null,this.lastState=null,this.direction=[1,0],this.speed=0,this.latency=50}return WarpgateService.prototype.predict=function(t){if(this.states.push(t),this.states.length<5)return t;if(this.lastState=this.states.shift(),this.currentState=t,!this.lastState){var e={time:t.time+this.latency,position:[this.currentState.position[0],this.currentState.position[1]]};return e}var n=[this.lastState.position[0],this.lastState.position[1]];if(Math.abs(this.currentState.position[0]-this.lastState.position[0])<5,Math.abs(this.currentState.position[1]-this.lastState.position[1])<5,this.direction=this.getUnitDirection(n[0],n[1],this.currentState.position[0],this.currentState.position[1]),null===this.direction||this.currentState.time-this.lastState.time<10){var e={time:t.time+this.latency,position:[this.currentState.position[0],this.currentState.position[1]]};return e}this.speed=this.getDistance(n[0],n[1],this.currentState.position[0],this.currentState.position[1])/(this.currentState.time-this.lastState.time),this.speed=this.speed<1e7?this.speed:1e6;var r=this.speed*this.latency,i=r*this.direction[0],o=r*this.direction[1];i=Math.abs(i)<50?i:50,o=Math.abs(o)<50?o:50;var e={time:t.time+this.latency,position:[this.currentState.position[0]+i,this.currentState.position[1]+o]};return e},WarpgateService.prototype.getDistance=function(t,e,n,r){return Math.sqrt((n-=t)*n+(r-=e)*r)},WarpgateService.prototype.getUnitDirection=function(t,e,n,r){var i=this.getDistance(t,e,n,r);return 0===i?null:[(n-t)/i,(r-e)/i]},WarpgateService=r([o.Injectable(),i("design:paramtypes",[])],WarpgateService)}();e.WarpgateService=a},function(t,e){t.exports='<window *ngFor="let window of windows" id="wd-{{window.id}}" [window]="window" [class.bare]="window.bare" [style.width]="window.width+\'px\'" [style.height]="window.height+\'px\'"\n[style.left]="window.x+\'px\'" [style.top]="window.y+\'px\'" [style.display]="window.visible?\'block\':\'none\'" [style.zIndex]="window.zIndex" (click)="active(window)"></window>\n<ul>\n    <li *ngFor="let app of apps">\n        <desktop-icon-item [app]="app"></desktop-icon-item>\n    </li>\n</ul>\n<taskbar (notify)=\'onStartmenuClick($event)\'></taskbar>\n<process *ngFor="let process of processes" [process]="process" id="proc-{{process.pid}}"></process>'},function(t,e){t.exports=":host {\n    width: 100%;\n    height: 100%;\n    background: url(/assets/images/windows7-bg.jpg);\n    background-size: cover;\n    display: block;\n    position: relative;\n}\nul {\n    list-style: none;\n    position: absolute;\n    left: 20px;\n    top: 10px;\n}\nli {\n    float: left;\n    margin-left: 30px;\n}";
},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=n(3),a=n(21),s=n(88),c=n(87),u=function(){function SafeHtmlPipe(t){this.sanitized=t}return SafeHtmlPipe.prototype.transform=function(t){return this.sanitized.bypassSecurityTrustHtml(t)},SafeHtmlPipe=r([o.Pipe({name:"safeHtml"}),i("design:paramtypes",["function"==typeof(t="undefined"!=typeof a.DomSanitizer&&a.DomSanitizer)&&t||Object])],SafeHtmlPipe);var t}();e.SafeHtmlPipe=u;var f=function(){function SafeUrlPipe(t){this.sanitizer=t}return SafeUrlPipe.prototype.transform=function(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t)},SafeUrlPipe=r([o.Pipe({name:"safeUrl"}),i("design:paramtypes",["function"==typeof(t="undefined"!=typeof a.DomSanitizer&&a.DomSanitizer)&&t||Object])],SafeUrlPipe);var t}();e.SafeUrlPipe=f;var p=function(){function WindowComponent(t){this.wmService=t}return WindowComponent.prototype.ngAfterViewInit=function(){if("cloudware"==this.window.type){this.canvas=this.cvs.nativeElement,this.window.canvas=this.canvas,this.canvas.width=1,this.canvas.height=1;var t=this.canvas;t.width=1,t.height=1,0!=this.window.width&&0!=this.window.height&&this.window.width<1e4&&(this.imageData=t.getContext("2d").createImageData(this.window.width,this.window.height))}},WindowComponent.prototype.close=function(){this.wmService.destroyWindow(this.window)},WindowComponent.prototype.toggleMaximize=function(){this.window.toggleMaximize()},WindowComponent.prototype.minimize=function(){this.window.minimize()},r([o.Input(),i("design:type","function"==typeof(t="undefined"!=typeof s.Window&&s.Window)&&t||Object)],WindowComponent.prototype,"window",void 0),r([o.ViewChild("canvas"),i("design:type","function"==typeof(e="undefined"!=typeof o.ElementRef&&o.ElementRef)&&e||Object)],WindowComponent.prototype,"cvs",void 0),WindowComponent=r([o.Component({selector:"window",template:n(96),styles:[n(97)]}),i("design:paramtypes",["function"==typeof(a="undefined"!=typeof c.WmService&&c.WmService)&&a||Object])],WindowComponent);var t,e,a}();e.WindowComponent=p},function(t,e){t.exports='\n\n<div class="window-layout" [style.display]="window.bare?\'none\':\'block\'">\n    <div class="top-row">\n        <div class="top">\n            <div class="buttons">\n                <div class="close" (click)="close()">✖</div>\n                <div class="maximize" *ngIf="window.maximizable" (click)="toggleMaximize()">□</div>\n                <div class="minimize" *ngIf="window.minimizable" (click)="minimize()">-</div>\n            </div>\n            <div class="title">{{window.title}}</div>\n        </div>\n    </div>\n\n    <div class="content-row">\n        <div class="content" *ngIf="!window.src" [innerHTML]="window.content | safeHtml"></div>\n        <iframe *ngIf="window.src" [src]="window.src | safeUrl" frameBorder="0" width="100%" height="100%"></iframe>\n    </div>\n\n</div>\n\n<canvas #canvas width="1" height="1"></canvas>\n'},function(t,e){t.exports=":host {\n    position: absolute;\n    z-index: 2;\n    left: 0;\n    top: 0;\n    width: 850px;\n    height: 506px;\n    border: solid 1px #619bb9;\n    overflow: hidden;\n    display: inline-block;\n}\n:host.bare {\n    border: 0;\n}\n.window-layout {\n    display: table;\n    border-spacing: 5px;\n    border-collapse: separate;\n    width: 100%;\n    height: 100%;\n    z-index: 1;\n}\n.top-row {\n    width: 100%;\n    display: table-row;\n    height: 27px;\n    z-index: 1;\n}\n.top {\n    width: 100%;\n    padding: 5px 0px;\n    height: 25px;\n    display: table-cell;\n    overflow: hidden;\n}\n.title {\n    line-height: 20px;\n    display: block;\n    overflow: hidden;\n    text-align: center;\n    color: #fff;\n}\n.buttons {\n    float: right;\n    cursor: pointer;\n}\n.minimize{\n    float: right;\n    display: inline-block;\n    width: 29px;\n    height: 19px;\n    background: -webkit-linear-gradient(top, #D3CED8 50%,#a69eae 50%);\n    background: -moz-linear-gradient(top, #D3CED8 50%,#a69eae 50%);\n    background: -o-linear-gradient(top, #D3CED8 50%,#a69eae 50%);\n    background: -ms-linear-gradient(top, #D3CED8 50%,#a69eae 50%);\n    background: linear-gradient(top, #D3CED8 50%,#a69eae 50%);\n    text-align: center;\n    color: #fff;\n    border-radius: 0 0 0 2px;\n    border: 1px solid #555;\n    border-top-width: 0px;\n    border-right-width: 0px;\n    text-shadow: -1px 0 #444, 0 1px #444, 1px 0 #444, 0 -1px #444;\n    font-size: 30px;\n    line-height: 16px;\n}\n.maximize {\n    /*\n    display: inline-block;\n    width: 16px;\n    height: 18px;\n    cursor: pointer;\n    background: url('/assets/maximize_focused_normal.png') no-repeat center center;\n\n    &:hover {\n      background: url('/assets/maximize_focused_prelight.png') no-repeat center center;\n    }\n    &:active {\n      background: url('/assets/maximize_focused_pressed.png') no-repeat center center;\n    }\n    */\n    display: inline-block;\n    width: 27px;\n    height: 19px;\n    text-align: center;\n    float: right;\n    background: -webkit-linear-gradient(top, #D3CED8 50%,#a69eae 50%);\n    background: -moz-linear-gradient(top, #D3CED8 50%,#a69eae 50%);\n    background: -o-linear-gradient(top, #D3CED8 50%,#a69eae 50%);\n    background: -ms-linear-gradient(top, #D3CED8 50%,#a69eae 50%);\n    background: linear-gradient(top, #D3CED8 50%,#a69eae 50%);\n    color: #fff;\n    font-weight: bolder;\n    border: 1px solid #555;\n    border-top-width: 0;\n    border-right-width: 0;\n    text-shadow: -1px 0 #444, 0 1px #444, 1px 0 #444, 0 -1px #444;\n    font-size: 19px;\n    line-height: 14px;\n\n}\n.close {\n    /*display: inline-block;\n    width: 16px;\n    height: 18px;\n    background: url('/assets/close_focused_normal.png') no-repeat center center;\n\n    &:hover {\n      background: url('/assets/close_focused_prelight.png') no-repeat center center;\n    }\n    &:active {\n      background: url('/assets/close_focused_pressed.png') no-repeat center center;\n    }*/\n    display: inline-block;\n    width: 48px;\n    height: 19px;\n    float: right;\n    background: -webkit-linear-gradient(top, #f85032 50%,#e73827 50%);\n    background: -moz-linear-gradient(top, #f85032 50%,#e73827 50%);\n    background: -o-linear-gradient(top, #f85032 50%,#e73827 50%);\n    background: -ms-linear-gradient(top, #f85032 50%,#e73827 50%);\n    background: linear-gradient(top, #f85032 50%,#e73827 50%);\n    text-align: center;\n    color: #fff;\n    border-radius: 0 3px 3px 0;\n    border: 1px solid #555;\n    text-shadow: -1px 0 #444, 0 1px #444, 1px 0 #444, 0 -1px #444;\n    border-top-width: 0;\n}\n\n\n\n.content-row {\n    display: table-row;\n    z-index: 1;\n}\n.content {\n    display: table-cell;\n// height: 100%;\n//width: 100%;\n    overflow: hidden;\n    background: #fff;\n}\n\n\n.resize {\n    position: absolute;\n    display: block;\n    z-index: -1;\n    top: 0;\n    left: -8px;\n    right: -8px;\n    bottom: -8px;\n    cursor: move;\n}\n"},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=n(3),a=n(89),s=function(){function TaskbarComponent(t){this.processManagerService=t,this.processes=[],this.isFullscreen=!1}return TaskbarComponent.prototype.ngOnInit=function(){function startTime(){var t=new Date,n=t.getFullYear()+"/"+("0"+(t.getMonth()+1)).slice(-2)+"/"+("0"+t.getDate()).slice(-2),r=("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)+":"+("0"+t.getSeconds()).slice(-2);e.date=n,e.time=r}var t=this,e=this;this.processManagerService.getProcesses().then(function(e){return t.processes=e}),startTime(),setInterval(startTime,1e3)},TaskbarComponent.prototype.fullscreen=function(){if(this.isFullscreen)document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.exitFullscreen&&document.exitFullscreen(),this.isFullscreen=!1;else{var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen(),this.isFullscreen=!0}},TaskbarComponent=r([o.Component({selector:"taskbar",template:n(99),styles:[n(100)]}),i("design:paramtypes",["function"==typeof(t="undefined"!=typeof a.ProcessManagerService&&a.ProcessManagerService)&&t||Object])],TaskbarComponent);var t}();e.TaskbarComponent=s},function(t,e){t.exports='<startmenu></startmenu>\n\n<ul class="icons">\n    <li *ngFor="let process of processes">\n        <taskbar-icon-item [process]="process"></taskbar-icon-item>\n    </li>\n</ul>\n<div class="datetime" style="display: block;float: right;">\n    <div>{{time}}</div>\n    <div>{{date}}</div>\n</div>\n<div class="fullscreen" (click)="fullscreen()">口</div>'},function(t,e){t.exports=":host {\n    width: 100%;\n    height: 41px;\n    left: 0;\n    bottom: 0;\n    z-index: 999;\n    display: block;\n    position: absolute;\n    background-color: #619bb9;\n    background: linear-gradient(65deg, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.9), rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.9));\n    border-top: 1px solid rgba(0, 0, 0, 0.5);\n    box-shadow: inset 0 1px 0px rgba(255, 255, 255, 0.4);\n}\n.fullscreen {\n    float: right;\n    line-height: 40px;\n    color: #fff;\n    cursor: pointer;\n}\n.datetime {\n    width: 70px;\n    display: block;\n    float: right;\n    color: white;\n    text-align: center;\n    padding: 5px;\n}\n.icons {\n    margin-left: 50px;\n}\n.icons li {\n    display: block;\n    float: left;\n}"},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=n(3),a=n(83),s=n(84),c=n(73),u=n(89),f=function(){function StartmenuComponent(t,e,n,r){this._eref=t,this.dsService=e,this.amService=n,this.pmService=r}return StartmenuComponent.prototype.ngOnInit=function(){var t=this;this.dsService.query(s.Version,{include:"cloudware"}).subscribe(function(e){return t.versions=e})},StartmenuComponent.prototype.onStartClick=function(){this.active=!this.active},StartmenuComponent.prototype.onClick=function(t){this._eref.nativeElement.contains(t.target)||(this.active=!1)},StartmenuComponent.prototype.run=function(t){var e=this;this.amService.installCloudwareVersion(t).then(function(t){return e.pmService.run(t)}),this.active=!1},StartmenuComponent=r([o.Component({selector:"startmenu",template:n(102),styles:[n(103)],host:{"(document:click)":"onClick($event)"}}),i("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.ElementRef&&o.ElementRef)&&t||Object,"function"==typeof(e="undefined"!=typeof a.DatastoreService&&a.DatastoreService)&&e||Object,"function"==typeof(f="undefined"!=typeof c.AppManagerService&&c.AppManagerService)&&f||Object,"function"==typeof(p="undefined"!=typeof u.ProcessManagerService&&u.ProcessManagerService)&&p||Object])],StartmenuComponent);var t,e,f,p}();e.StartmenuComponent=f},function(t,e){t.exports='\n<img (click)="onStartClick()" class="start-logo" src="/assets/images/win7-start-btn.png">\n<div *ngIf="active" class="startpopup">\n    <div class="applications">\n        <ul id="app-list">\n            <li *ngFor="let version of versions" (click)="run(version)"><a href="#"><img src="//apiv2.cloudwarehub.com/uploads/{{version.cloudware.logo}}" alt="">{{version.cloudware.name}}</a></li>\n        </ul>\n\n        <div class="search">\n            <form action="">\n                <input type="text" placeholder="Search programs and files">\n            </form>\n        </div>\n    </div>\n\n    <ul class="sysdir">\n        <li class="user"><div class="frame" style="z-index: 43;">\n            <div class="frame-inner" style="z-index: 9;">\n                <!--<img src="/assets/images/logo_default_430x430.jpg" style="width: 35px;">-->\n            </div>\n        </div>\n        </li>\n        <li><a href="#"><span>Documents</span></a></li>\n    </ul>\n</div>'},function(t,e){t.exports='.startpopup {\n    border-radius: 5px;\n\n    -webkit-box-shadow: inset 0 0 1px #fff;\n    box-shadow: inset 0 0 1px #fff;\n    background-color: #619bb9;\n\n    background: -webkit-linear-gradient(top, rgba(50, 123, 165, 0.75), rgba(46, 75, 90, 0.75) 50%, rgba(92, 176, 220, 0.75));\n    background: -moz-linear-gradient(top, rgba(50, 123, 165, 0.75), rgba(46, 75, 90, 0.75) 50%, rgba(92, 176, 220, 0.75));\n    background: -o-linear-gradient(top, rgba(50, 123, 165, 0.75), rgba(46, 75, 90, 0.75) 50%, rgba(92, 176, 220, 0.75));\n    background: -ms-linear-gradient(top, rgba(50, 123, 165, 0.75), rgba(46, 75, 90, 0.75) 50%, rgba(92, 176, 220, 0.75));\n    background: linear-gradient(top, rgba(50, 123, 165, 0.75), rgba(46, 75, 90, 0.75) 50%, rgba(92, 176, 220, 0.75));\n    border: solid 1px #102A3E;\n    display: inline-block;\n    position: absolute;\n    margin: 100px 0 0 0px;\n    overflow: visible;\n    bottom: 41px;\n    left: 0;\n}\n.start-logo {\n    margin-left: 5px;\n    position: absolute;\n}\n.applications {\n    -webkit-box-shadow: 0 0 1px #fff;\n    box-shadow: 0 0 1px #fff;\n    border-radius: 3px;\n    background: white;\n    border: solid 1px #365167;\n    display: block;\n    float: left;\n    margin: 7px 0 7px 7px;\n}\n.applications ul {\n    margin: 0;\n    padding: 0;\n    list-style: none;\n    min-height: 360px;\n}\n.applications li a {\n    border: solid 1px #fff;\n    color: #4b4b4b;\n    display: block;\n    margin: 3px;\n    min-width: 220px;\n    padding: 3px;\n    text-decoration: none;\n}\n.applications li a:hover {\n    border-radius: 3px;\n\n    -webkit-box-shadow: inset 0 0 1px #fff;\n    box-shadow: inset 0 0 1px #fff;\n    background-color: #cfe3fd;\n\n    background: -webkit-linear-gradient(top, #dcebfd, #c2dcfd);\n    background: -moz-linear-gradient(top, #dcebfd, #c2dcfd);\n    background: -o-linear-gradient(top, #dcebfd, #c2dcfd);\n    background: -ms-linear-gradient(top, #dcebfd, #c2dcfd);\n    background: linear-gradient(top, #dcebfd, #c2dcfd);\n    border: solid 1px #7da2ce;\n}\n.applications li a img {\n    border: 0;\n    margin: 0 5px 0 0;\n    vertical-align: middle;\n    width: 40px;\n    height: 40px;\n}\n\n.search form {\n    background: #E4F4FC;\n    border-top: 2px solid #BEE6FD;\n    padding: 10px 0;\n    border-radius: 0 0 5px 5px;\n    display: block;\n    padding: 3px;\n    height: 30px;\n    margin: 0;\n}\n\n.search input {\n    background: white;\n    border: 1px solid #AAA;\n    padding: 3px 5px;\n    margin: 0 14px;\n    font: italic 12px Calibri,Arial,Sans-Serif;\n    color: #999;\n    width: 188px;\n    position: relative;\n    outline: none;\n    background: white url(/assets/images/search.png) no-repeat scroll 168px center;\n}\n.sysdir {\n    margin: 7px;\n    margin-top: -30px;\n    float: left;\n    display: block;\n    padding: 0;\n    list-style: none;\n}\n.sysdir li a {\n    border: solid 1px transparent;\n    display: block;\n    margin: 5px 0;\n    position: relative;\n    color: #fff;\n    text-decoration: none;\n    min-width: 120px;\n}\n\n.sysdir li a:hover {\n    border-radius: 3px;\n\n    -webkit-box-shadow: inset 0 0 1px #fff;\n    box-shadow: inset 0 0 1px #fff;\n    border: solid 1px #000;\n    background-color: #658da0;\n    background: linear-gradient(center left, rgba(81,115,132,0.15), rgba(121,163,184,0.1) 50%, rgba(81,115,132,0.1));\n}\n\n.sysdir li a span {\n    padding: 5px;\n    display: block;\n}\n\n.sysdir li.user {\n    text-align: center;\n}\n.user .frame {\n    padding: 3px 5px 5px 3px;\n    height: 48px;\n    width: 48px;\n    border-radius: 5px;\n\n    -webkit-box-shadow: 0px 0px 13px #333;\n    box-shadow: 0px 0px 13px #333;\n    border: 1px solid #272848;\n    margin: 0 auto;\n}\n\n.user .frame-inner {\n    background: url("/assets/images/logo_default_430x430.jpg") no-repeat;\n    background-size: cover;\n    border: 1px solid #333;\n    height: 100%;\n    width: 100%;\n}'},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=n(3),a=n(75),s=n(89),c=function(){function DesktopIconItemComponent(t){this.processManagerService=t}return DesktopIconItemComponent.prototype.dblClick=function(){this.processManagerService.run(this.app)},r([o.Input(),i("design:type","function"==typeof(t="undefined"!=typeof a.App&&a.App)&&t||Object)],DesktopIconItemComponent.prototype,"app",void 0),DesktopIconItemComponent=r([o.Component({selector:"desktop-icon-item",template:n(105),styles:[n(106)]}),i("design:paramtypes",["function"==typeof(e="undefined"!=typeof s.ProcessManagerService&&s.ProcessManagerService)&&e||Object])],DesktopIconItemComponent);var t,e}();e.DesktopIconItemComponent=c},function(t,e){t.exports='<a href="javascript:;" (dblclick)="dblClick()">\n    <img src="{{app.logo}}" style="height: 48px;" ><br />{{app.name}}\n</a>'},function(t,e){t.exports=":host {\n    float: left;\n}\n.icon {\n    text-align: center;\n}\na {\n    height: 85px;\n    text-decoration: none;\n    border: solid 1px transparent;\n    display: block;\n    padding: 3px;\n    margin: 20px 0 0 0;\n    color: #ffffff;\n    text-shadow: 0.2em 0.1em 0.3em #000000;\n    text-align: center;\n    width: 70px;\n}\nimg {\n    height: 64px;\n}\na:hover {\n    border: solid 1px #bbd6ec;\n    -webkit-border-radius: 3px;\n    box-shadow: inset 0 0 1px #fff;\n    -webkit-box-shadow: inset 0 0 1px #fff;\n    background-color: #5caae8;\n}"},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=n(3),a=n(90),s=n(89),c=n(87),u=function(){function TaskbarIconItemComponent(t,e){this.pmService=t,this.wmService=e}return TaskbarIconItemComponent.prototype.unMinimize=function(){var t=this;this.pmService.activeProcess(this.process),this.process.windows.forEach(function(e){e.unMinimize(),t.wmService.activeWindow(e)})},r([o.Input(),i("design:type","function"==typeof(t="undefined"!=typeof a.Process&&a.Process)&&t||Object)],TaskbarIconItemComponent.prototype,"process",void 0),TaskbarIconItemComponent=r([o.Component({selector:"taskbar-icon-item",template:n(108),styles:[n(109)]}),i("design:paramtypes",["function"==typeof(e="undefined"!=typeof s.ProcessManagerService&&s.ProcessManagerService)&&e||Object,"function"==typeof(u="undefined"!=typeof c.WmService&&c.WmService)&&u||Object])],TaskbarIconItemComponent);var t,e,u}();e.TaskbarIconItemComponent=u},function(t,e){t.exports='\n<a href="#">\n    <img src="{{process.app.logo}}" style="width:100%" (click)="unMinimize()">\n</a>'},function(t,e){t.exports=":host {\n    height: 40px;\n    max-width: 40px;\n    margin-right: 2px;\n    float: left;\n    display: block;\n}"},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=n(3),a=n(87),s=n(90),c=function(){function ProcessComponent(t){this.wmService=t,this.windows=[]}return ProcessComponent.prototype.ngOnInit=function(){var t=this;this.zone=new o.NgZone({enableLongStackTrace:!1}),t.process.windows=t.windows,t.process.dc.onmessage=function(e){console.log(e.data);var n=JSON.parse(e.data),r=n.payload;switch(n.resource){case"window":switch(n.action){case"create":var i={id:r.id,title:"window",x:r.x||0,y:r.y||0,width:r.width||1,height:r.height||1,content:r.content||"",process:t.process,type:"cloudware",bare:!0,src:null};t.zone.run(function(){t.wmService.createWindow(i).then(function(e){t.windows.push(e)})});break;case"show":var o=t.wmService.getWindowById(r.id);o&&t.zone.run(function(){t.wmService.showWindow(o)});break;case"hide":var o=t.wmService.getWindowById(r.id);o&&t.zone.run(function(){o.hide()});break;case"configure":var o=t.wmService.getWindowById(r.id);o&&t.zone.run(function(){o.configure(r)});break;case"destroy":var o=t.wmService.getWindowById(r.id);o&&t.zone.run(function(){t.wmService.destroyWindow(o)})}}}},ProcessComponent.prototype.startPeerConnection=function(){var t=this,e={iceServers:[{url:"turn:106.75.71.14:3478?transport=tcp",username:"gd",credential:"gd"}]};t.pc=new RTCPeerConnection(e);var n=t.pc,r=t.signal,i=n.createDataChannel("event channel");t.dc=i,n.onicecandidate=function(t){if(null!==t.candidate){var e=t.candidate.candidate;e.indexOf("relay")<0,setTimeout(function(){r.send(JSON.stringify(t.candidate))},2e3)}},n.onaddstream=function(e){var n=document.getElementById(t.screen.video_id),n=n;!function loop(){t.windows.forEach(function(t){t.visible&&t.startRender&&t.canvas&&(t.canvas.width=t.width,t.canvas.height=t.height,t.canvas.getContext("2d").drawImage(n,-t.x,-t.y))}),setTimeout(loop,0)}(),n.src=URL.createObjectURL(e.stream),setInterval(function(){n.play()},2e3)};var o=function(e){e.sdp=t.setBandwidth(e.sdp,50,4500),n.setLocalDescription(e),setTimeout(function(){r.send(JSON.stringify(e))},2e3)};n.createOffer(o,function(t){console.log("Failure callback: "+t)},{offerToReceiveVideo:!0})},ProcessComponent.prototype.setBandwidth=function(t,e,n){return t=t.replace(/a=mid:audio\r\n/g,"a=mid:audio\r\nb=AS:"+e+"\r\n"),t=t.replace(/a=mid:video\r\n/g,"a=mid:video\r\nb=AS:"+n+"\r\n")},r([o.Input(),i("design:type","function"==typeof(t="undefined"!=typeof s.Process&&s.Process)&&t||Object)],ProcessComponent.prototype,"process",void 0),ProcessComponent=r([o.Component({selector:"process",template:""}),i("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.WmService&&a.WmService)&&e||Object])],ProcessComponent);var t,e}();e.ProcessComponent=c}]);
//# sourceMappingURL=app.d899d2f24bdc0f56f0b1.js.map